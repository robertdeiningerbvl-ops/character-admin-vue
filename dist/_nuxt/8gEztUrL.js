import{c as X,e as Z,b as q,P,g as K,Z as G,ax as S,W,a1 as J,j as ee,u as te,h as ae,a2 as oe,Y as se,_ as le,t as V}from"./DiI9-bkE.js";import{p as C,t as re,B as d,u as e,h as R,z as l,a1 as p,a2 as n,Y as D,j as Y,a7 as w,R as m,a9 as M,aa as T,ag as ne,b as N,aA as ue,a5 as I,a6 as A,A as F,ae as B,Q as ie,W as de,c as j}from"./Cp_GvCOL.js";import{b as x,F as pe,a as fe,u as ce}from"./C-fFc4Sm.js";import{g as ve}from"./DnWsfCtc.js";import{r as ye,d as ge}from"./BlLzDdHJ.js";const[O,me]=Z("DialogRoot");var _e=C({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(o,{emit:u}){const t=o,a=X(t,"open",u,{defaultValue:t.defaultOpen,passive:t.open===void 0}),v=R(),y=R(),{modal:f}=re(t);return me({open:a,modal:f,openModal:()=>{a.value=!0},onOpenChange:i=>{a.value=i},onOpenToggle:()=>{a.value=!a.value},contentId:"",titleId:"",descriptionId:"",triggerElement:v,contentElement:y}),(i,r)=>d(i.$slots,"default",{open:e(a),close:()=>a.value=!1})}}),De=_e,Ce=C({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(o){const u=o;q();const t=O();return(s,a)=>(l(),p(e(P),D(u,{type:s.as==="button"?"button":void 0,onClick:a[0]||(a[0]=v=>e(t).onOpenChange(!1))}),{default:n(()=>[d(s.$slots,"default")]),_:3},16,["type"]))}}),be=Ce,qe=C({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:u}){const t=o,s=u,a=O(),{forwardRef:v,currentElement:y}=q();return a.titleId||=x(void 0,"reka-dialog-title"),a.descriptionId||=x(void 0,"reka-dialog-description"),Y(()=>{a.contentElement=y,K()!==document.body&&(a.triggerElement.value=K())}),(f,i)=>(l(),p(e(pe),{"as-child":"",loop:"",trapped:t.trapFocus,onMountAutoFocus:i[5]||(i[5]=r=>s("openAutoFocus",r)),onUnmountAutoFocus:i[6]||(i[6]=r=>s("closeAutoFocus",r))},{default:n(()=>[w(e(G),D({id:e(a).contentId,ref:e(v),as:f.as,"as-child":f.asChild,"disable-outside-pointer-events":f.disableOutsidePointerEvents,role:"dialog","aria-describedby":e(a).descriptionId,"aria-labelledby":e(a).titleId,"data-state":e(ve)(e(a).open.value)},f.$attrs,{onDismiss:i[0]||(i[0]=r=>e(a).onOpenChange(!1)),onEscapeKeyDown:i[1]||(i[1]=r=>s("escapeKeyDown",r)),onFocusOutside:i[2]||(i[2]=r=>s("focusOutside",r)),onInteractOutside:i[3]||(i[3]=r=>s("interactOutside",r)),onPointerDownOutside:i[4]||(i[4]=r=>s("pointerDownOutside",r))}),{default:n(()=>[d(f.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),U=qe,Oe=C({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:u}){const t=o,s=u,a=O(),v=S(s),{forwardRef:y,currentElement:f}=q();return fe(f),(i,r)=>(l(),p(U,D({...t,...e(v)},{ref:e(y),"trap-focus":e(a).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:r[0]||(r[0]=c=>{c.defaultPrevented||(c.preventDefault(),e(a).triggerElement.value?.focus())}),onPointerDownOutside:r[1]||(r[1]=c=>{const h=c.detail.originalEvent,E=h.button===0&&h.ctrlKey===!0;(h.button===2||E)&&c.preventDefault()}),onFocusOutside:r[2]||(r[2]=c=>{c.preventDefault()})}),{default:n(()=>[d(i.$slots,"default")]),_:3},16,["trap-focus"]))}}),Be=Oe,he=C({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:u}){const t=o,a=S(u);q();const v=O(),y=R(!1),f=R(!1);return(i,r)=>(l(),p(U,D({...t,...e(a)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:r[0]||(r[0]=c=>{c.defaultPrevented||(y.value||e(v).triggerElement.value?.focus(),c.preventDefault()),y.value=!1,f.value=!1}),onInteractOutside:r[1]||(r[1]=c=>{c.defaultPrevented||(y.value=!0,c.detail.originalEvent.type==="pointerdown"&&(f.value=!0));const h=c.target;e(v).triggerElement.value?.contains(h)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&f.value&&c.preventDefault()})}),{default:n(()=>[d(i.$slots,"default")]),_:3},16))}}),we=he,ke=C({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:u}){const t=o,s=u,a=O(),v=S(s),{forwardRef:y}=q();return(f,i)=>(l(),p(e(W),{present:f.forceMount||e(a).open.value},{default:n(()=>[e(a).modal.value?(l(),p(Be,D({key:0,ref:e(y)},{...t,...e(v),...f.$attrs}),{default:n(()=>[d(f.$slots,"default")]),_:3},16)):(l(),p(we,D({key:1,ref:e(y)},{...t,...e(v),...f.$attrs}),{default:n(()=>[d(f.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),$e=ke,Ee=C({__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(o){const u=o;q();const t=O();return(s,a)=>(l(),p(e(P),D(u,{id:e(t).descriptionId}),{default:n(()=>[d(s.$slots,"default")]),_:3},16,["id"]))}}),L=Ee,Pe=C({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){const u=O();return ce(!0),q(),(t,s)=>(l(),p(e(P),{as:t.as,"as-child":t.asChild,"data-state":e(u).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:n(()=>[d(t.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),Ie=Pe,Ae=C({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){const u=O(),{forwardRef:t}=q();return(s,a)=>e(u)?.modal.value?(l(),p(e(W),{key:0,present:s.forceMount||e(u).open.value},{default:n(()=>[w(Ie,D(s.$attrs,{ref:e(t),as:s.as,"as-child":s.asChild}),{default:n(()=>[d(s.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):m("v-if",!0)}}),H=Ae,Fe=C({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(o){const u=o;return(t,s)=>(l(),p(e(J),M(T(u)),{default:n(()=>[d(t.$slots,"default")]),_:3},16))}}),Re=Fe,Me=C({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(o){const u=o,t=O();return q(),(s,a)=>(l(),p(e(P),D(u,{id:e(t).titleId}),{default:n(()=>[d(s.$slots,"default")]),_:3},16,["id"]))}}),z=Me,Te=C({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(o){const u=o,t=O(),{forwardRef:s,currentElement:a}=q();return t.contentId||=x(void 0,"reka-dialog-content"),Y(()=>{t.triggerElement.value=a.value}),(v,y)=>(l(),p(e(P),D(u,{ref:e(s),type:v.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(t).open.value||!1,"aria-controls":e(t).open.value?e(t).contentId:void 0,"data-state":e(t).open.value?"open":"closed",onClick:e(t).onOpenToggle}),{default:n(()=>[d(v.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),xe=Te;const Se={slots:{overlay:"fixed inset-0",content:"bg-default divide-y divide-default flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"w-[calc(100vw-2rem)] max-w-lg rounded-lg shadow-lg ring ring-default"}},overlay:{true:{overlay:"bg-elevated/75"}},scrollable:{true:{overlay:"overflow-y-auto",content:"relative"},false:{content:"fixed",body:"overflow-y-auto"}}},compoundVariants:[{scrollable:!0,fullscreen:!1,class:{overlay:"grid place-items-center p-4 sm:py-8"}},{scrollable:!1,fullscreen:!1,class:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] overflow-hidden"}}]},He={__name:"UModal",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},scrollable:{type:Boolean,required:!1},transition:{type:Boolean,required:!1,default:!0},fullscreen:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:null,required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","after:enter","close:prevent","update:open"],setup(o,{emit:u}){const t=o,s=u,a=ne(),{t:v}=ee(),y=te(),f=ae(ye(t,"open","defaultOpen","modal"),s),i=oe(N(()=>t.portal)),r=N(()=>t.content),c=j(()=>t.dismissible?t.scrollable?{pointerDownOutside:g=>{const b=g.detail.originalEvent,k=b.target;(b.offsetX>k.clientWidth||b.offsetY>k.clientHeight)&&g.preventDefault()}}:{}:["pointerDownOutside","interactOutside","escapeKeyDown"].reduce((b,k)=>(b[k]=$=>{$.preventDefault(),s("close:prevent")},b),{})),[h,E]=ge(),_=j(()=>V({extend:V(Se),...y.ui?.modal||{}})({transition:t.transition,fullscreen:t.fullscreen,overlay:t.overlay,scrollable:t.scrollable}));return(g,b)=>(l(),p(e(De),M(T(e(f))),{default:n(({open:k,close:$})=>[w(e(h),null,{default:n(()=>[w(e($e),D({"data-slot":"content",class:_.value.content({class:[!a.default&&t.class,t.ui?.content]})},r.value,{onAfterEnter:b[0]||(b[0]=Q=>s("after:enter")),onAfterLeave:b[1]||(b[1]=Q=>s("after:leave"))},ue(c.value)),{default:n(()=>[a.content&&(o.title||a.title||o.description||a.description)?(l(),p(e(se),{key:0},{default:n(()=>[o.title||a.title?(l(),p(e(z),{key:0},{default:n(()=>[d(g.$slots,"title",{},()=>[I(A(o.title),1)])]),_:3})):m("",!0),o.description||a.description?(l(),p(e(L),{key:1},{default:n(()=>[d(g.$slots,"description",{},()=>[I(A(o.description),1)])]),_:3})):m("",!0)]),_:3})):m("",!0),d(g.$slots,"content",{close:$},()=>[a.header||o.title||a.title||o.description||a.description||t.close||a.close?(l(),F("div",{key:0,"data-slot":"header",class:B(_.value.header({class:t.ui?.header}))},[d(g.$slots,"header",{close:$},()=>[ie("div",{"data-slot":"wrapper",class:B(_.value.wrapper({class:t.ui?.wrapper}))},[o.title||a.title?(l(),p(e(z),{key:0,"data-slot":"title",class:B(_.value.title({class:t.ui?.title}))},{default:n(()=>[d(g.$slots,"title",{},()=>[I(A(o.title),1)])]),_:3},8,["class"])):m("",!0),o.description||a.description?(l(),p(e(L),{key:1,"data-slot":"description",class:B(_.value.description({class:t.ui?.description}))},{default:n(()=>[d(g.$slots,"description",{},()=>[I(A(o.description),1)])]),_:3},8,["class"])):m("",!0)],2),d(g.$slots,"actions"),t.close||a.close?(l(),p(e(be),{key:0,"as-child":""},{default:n(()=>[d(g.$slots,"close",{ui:_.value},()=>[t.close?(l(),p(le,D({key:0,icon:o.closeIcon||e(y).ui.icons.close,color:"neutral",variant:"ghost","aria-label":e(v)("modal.close")},typeof t.close=="object"?t.close:{},{"data-slot":"close",class:_.value.close({class:t.ui?.close})}),null,16,["icon","aria-label","class"])):m("",!0)])]),_:2},1024)):m("",!0)])],2)):m("",!0),a.body?(l(),F("div",{key:1,"data-slot":"body",class:B(_.value.body({class:t.ui?.body}))},[d(g.$slots,"body",{close:$})],2)):m("",!0),a.footer?(l(),F("div",{key:2,"data-slot":"footer",class:B(_.value.footer({class:t.ui?.footer}))},[d(g.$slots,"footer",{close:$})],2)):m("",!0)])]),_:2},1040,["class"])]),_:2},1024),a.default?(l(),p(e(xe),{key:0,"as-child":"",class:B(t.class)},{default:n(()=>[d(g.$slots,"default",{open:k})]),_:2},1032,["class"])):m("",!0),w(e(Re),M(T(e(i))),{default:n(()=>[o.scrollable?(l(),p(e(H),{key:0,"data-slot":"overlay",class:B(_.value.overlay({class:t.ui?.overlay}))},{default:n(()=>[w(e(E))]),_:1},8,["class"])):(l(),F(de,{key:1},[o.overlay?(l(),p(e(H),{key:0,"data-slot":"overlay",class:B(_.value.overlay({class:t.ui?.overlay}))},null,8,["class"])):m("",!0),w(e(E))],64))]),_:1},16)]),_:3},16))}};export{xe as D,He as _,Re as a,H as b,$e as c,z as d,L as e,be as f,De as g};
