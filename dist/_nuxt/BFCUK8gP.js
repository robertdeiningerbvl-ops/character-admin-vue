import{_ as f,a as b,b as x,c as y}from"./DAqc9GYg.js";import{_ as w}from"./CSbqei5V.js";import{u as D,b as g}from"./Bo5OMT4U.js";import{J as l,f as k,a as v,o as p,A as I,w as i,b as m,B as a,k as Y,C as B,D as C}from"./DhOLkSnF.js";import{a as K}from"./Bv4VAA-r.js";import"./CLKxJTZi.js";import"./DAIKkUkW.js";import"./D0vBe5Vh.js";import"./CZg69nbc.js";import"./BrXYpapi.js";import"./CwtpYSSp.js";import"./BXSyqGa5.js";const P=[{accessorKey:"start",header:"开始日期",searchPlaceholder:"开始日期",hideInTable:!0,formItemProps:{field:"start",component:"DateInput",defaultValue:l().subtract(6,"day").format("YYYY-MM-DD")}},{accessorKey:"end",header:"结束日期",searchPlaceholder:"结束日期",hideInTable:!0,formItemProps:{field:"end",component:"DateInput",defaultValue:l().format("YYYY-MM-DD")}},{accessorKey:"invitation_code",header:"邀请码",searchPlaceholder:"筛选邀请码",meta:{class:{th:"w-[150px]",td:"w-[150px]"}}},{accessorKey:"tm",header:"日期",meta:{class:{th:"w-[120px]",td:"w-[120px]"}}},{accessorKey:"name",header:"用户名",meta:{class:{th:"w-[150px]",td:"w-[150px]"}}},{accessorKey:"num",header:"邀请人数",meta:{class:{th:"w-[100px]",td:"w-[100px]"}}},{accessorKey:"uid",header:"用户ID",meta:{class:{th:"w-[100px]",td:"w-[100px]"}}}];async function M(d){const{data:c,error:e}=await K(d);if(e||!c?.list)return{error:e||{type:"backend",code:"NO_DATA",msg:"无数据"},data:null};const s=[];return c.list.forEach(o=>{const r=o.invitation_code;o.days?.forEach(n=>{n.stats?.forEach(t=>{s.push({invitation_code:r,tm:n.tm,name:t.name,num:t.num,uid:t.uid})})})}),{error:null,data:{list:s,count:0}}}const N={key:0,class:"absolute top-0 left-0 right-0 h-(--ui-header-height) flex items-center justify-between border-b border-(--ui-border) px-4 sm:px-6 bg-(--ui-bg)"},R={class:"flex items-center gap-4"},z=k({name:"InviteStatistics",__name:"invite-statistics",setup(d){const e=D(g).smaller("lg"),s=[...P];return(u,o)=>{const r=b,n=f,t=x,_=w,h=y;return p(),v(h,{ui:{body:"pb-[12px]! gap-0!"}},I({body:i(()=>[m(e)?B("",!0):(p(),Y("div",N,[C("div",R,[a(r),a(t)])])),a(_,{ref:"tableRef","data-request":m(M),columns:s},null,8,["data-request"])]),_:2},[m(e)?{name:"header",fn:i(()=>[a(n,{title:"邀请统计"},{leading:i(()=>[a(r)]),_:1})]),key:"0"}:void 0]),1024)}}});export{z as default};
