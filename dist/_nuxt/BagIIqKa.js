import{_ as C}from"./1OJ4jHSB.js";import{L as y,M as v,w as E,_ as R,a as M}from"./DiI9-bkE.js";import{_ as q}from"./Odvr87Pg.js";import{_ as S}from"./CuFgEFCp.js";import{_ as z}from"./oJBVUttf.js";import{_ as K}from"./BdKneTYw.js";import{_ as j}from"./9B_i7pfW.js";import{_ as I}from"./8gEztUrL.js";import{c as V}from"./B3KMLFeu.js";import{p as $,ai as P,w as A,z as k,a1 as N,a2 as c,a7 as t,u as a,Q as f,i as O,c as Q,r as D,E as i,A as W,W as G,h as H}from"./Cp_GvCOL.js";import{o as J,s as L}from"./CgOwER5m.js";import{_ as X}from"./Bml5z8l2.js";import{f as Y}from"./CE7u-7DH.js";import{u as Z}from"./BCMcqMGM.js";import"./D7PB4JkZ.js";import"./C-fFc4Sm.js";import"./DnWsfCtc.js";import"./C6Y-ieo6.js";import"./De6cJ90F.js";import"./BrwH2_O0.js";import"./7ga_NNx6.js";import"./BHtpJmxp.js";import"./BlLzDdHJ.js";import"./CM1DIlR0.js";import"./DkYr1hfb.js";import"./DZaB2s8a.js";import"./K6pfE6CB.js";import"./B9BvCEkO.js";import"./DxT_AjaP.js";import"./DaMwIZ4f.js";import"./BnfZ4xmv.js";import"./CangPKqO.js";import"./C8Jf-TuN.js";import"./DVCf4JVd.js";function ee(e){return y.get(v.commonLangList,e)}function te(e){return y.post(v.commonLangAdd,e)}function oe(e){return y.post(v.commonLangEdit,e)}function ae(e){return y.post(v.commonLangRemove,e)}const ne={class:"space-y-5"},se={class:"p-4 rounded-lg bg-(--ui-bg-elevated) border border-(--ui-border)"},re={class:"flex items-start gap-3"},ie=$({__name:"Edit",props:{dialog:{type:Boolean,default:!1},currentForm:{default:()=>({})}},emits:["update:dialog","refresh"],setup(e,{emit:s}){const g=e,x=s,l=Q({get(){return g.dialog},set(r){x("update:dialog",r)}}),h=()=>{l.value=!1},b=P("formRef"),w=J({name:L().nonempty(),content:L().nonempty(),nation:L()}),n=D({loading:!1,form:{}}),F=E();async function m(){n.loading=!0;const r=V(n.form),{error:o}=await(r.id?oe:te)(r);o||(F.add({title:"操作成功",color:"success"}),x("refresh")),n.loading=!1}return A(()=>g.dialog,r=>{r&&(n.loading=!1,n.form=g.currentForm)}),(r,o)=>{const d=M,_=z,p=K,T=j,U=R,B=I;return k(),N(B,{open:a(l),"onUpdate:open":o[4]||(o[4]=u=>O(l)?l.value=u:null),title:e.currentForm.id?"编辑翻译":"新增翻译",ui:{content:"sm:max-w-lg",footer:"justify-end bg-(--ui-bg-elevated)"}},{body:c(()=>[f("div",ne,[f("div",se,[f("div",re,[t(d,{name:"i-lucide-info",class:"w-5 h-5 text-(--ui-primary) shrink-0 mt-0.5"}),o[5]||(o[5]=f("div",{class:"text-sm text-(--ui-text-muted)"},[f("p",{class:"font-medium text-(--ui-text-highlighted) mb-1"}," 翻译配置说明 "),f("p",null,"配置多语言翻译内容，用于前端界面的国际化显示。")],-1))])]),t(T,{ref_key:"formRef",ref:b,schema:a(w),state:a(n).form,class:"space-y-4",onSubmit:m},{default:c(()=>[t(p,{label:"中文名称",name:"name",required:"",hint:"原始文本内容"},{default:c(()=>[t(_,{modelValue:a(n).form.name,"onUpdate:modelValue":o[0]||(o[0]=u=>a(n).form.name=u),modelModifiers:{trim:!0},placeholder:"请输入中文名称",class:"w-full",size:"lg"},{leading:c(()=>[t(d,{name:"i-lucide-type",class:"w-5 h-5 text-(--ui-text-muted)"})]),_:1},8,["modelValue"])]),_:1}),t(p,{label:"翻译内容",name:"content",required:"",hint:"对应语言的翻译文本"},{default:c(()=>[t(_,{modelValue:a(n).form.content,"onUpdate:modelValue":o[1]||(o[1]=u=>a(n).form.content=u),modelModifiers:{trim:!0},placeholder:"请输入翻译内容",class:"w-full",size:"lg"},{leading:c(()=>[t(d,{name:"i-lucide-languages",class:"w-5 h-5 text-(--ui-text-muted)"})]),_:1},8,["modelValue"])]),_:1}),t(p,{label:"菜单标识",name:"nation",hint:"用于区分不同模块的翻译"},{default:c(()=>[t(_,{modelValue:a(n).form.nation,"onUpdate:modelValue":o[2]||(o[2]=u=>a(n).form.nation=u),modelModifiers:{trim:!0},placeholder:"请输入菜单标识，如：common、user",class:"w-full",size:"lg"},{leading:c(()=>[t(d,{name:"i-lucide-tag",class:"w-5 h-5 text-(--ui-text-muted)"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["schema","state"])])]),footer:c(()=>[t(U,{label:"取消",color:"neutral",variant:"outline",onClick:h}),t(U,{loading:a(n).loading,label:"确认",variant:"solid",onClick:o[3]||(o[3]=u=>a(b)?.submit())},null,8,["loading"])]),_:1},8,["open","title"])}}}),le=Object.assign(ie,{__name:"SystemTranslateEdit"}),me=[{accessorKey:"name",header:"中文名称",searchPlaceholder:"筛选名称",meta:{class:{th:"w-[200px]",td:"w-[200px]"}},cell:({row:e})=>i("div",{class:"flex items-center gap-2"},[i("span",{class:"i-lucide-languages w-4 h-4 text-(--ui-primary)"}),i("span",{class:"font-medium text-(--ui-text-highlighted)"},e.original.name||"-")])},{accessorKey:"content",header:"翻译内容",searchPlaceholder:"筛选翻译内容",cell:({row:e})=>{const s=e.original.content;return s?i("code",{class:"px-2 py-1 rounded bg-(--ui-bg-elevated) text-xs font-mono text-(--ui-text-muted)"},s):i("span",{class:"text-(--ui-text-muted)"},"-")}},{accessorKey:"nation",header:"菜单标识",meta:{class:{th:"w-[150px]",td:"w-[150px]"}},cell:({row:e})=>{const s=e.original.nation;return s?i(X,{variant:"subtle",color:"info"},()=>s):i("span",{class:"text-(--ui-text-muted)"},"-")}},{accessorKey:"updated_at",header:"更新时间",meta:{class:{th:"w-[180px]",td:"w-[180px]"}},cell:({row:e})=>{const s=e.original.updated_at;return s?i("div",{class:"flex items-center gap-2"},[i("span",{class:"i-lucide-clock w-4 h-4 text-(--ui-text-muted)"}),i("span",{class:"text-sm"},Y(s))]):i("span",{class:"text-(--ui-text-muted)"},"-")}}],Ne=$({name:"BaseTranslate",__name:"translate",setup(e){const s=H(),g=R,x=Z(),l=D({isDialog:!1,currentForm:{}}),h=async m=>{m?l.currentForm=V(m):l.currentForm={},l.isDialog=!0},b=async()=>{s.value.reload(),l.isDialog=!1},w=async m=>{const{error:r}=await ae({id:m.id});r||s.value.reload()};function n(m){return[{label:"编辑",icon:"material-symbols:edit-square-outline",onSelect(){h(m.original)}},{type:"separator"},{label:"删除",icon:"material-symbols:contract-delete-outline-rounded",color:"error",onSelect(){x.open({color:"error",title:"删除数据",description:"您确定要删除吗？",onPositiveClick(){w(m.original)}})}}]}const F=[...me,{id:"actions",cell:({row:m})=>i("div",{class:"text-right"},i(C,{content:{align:"end"},items:n(m)},()=>i(R,{icon:"i-lucide-ellipsis-vertical",color:"neutral",variant:"ghost",class:"ml-auto"})))}];return(m,r)=>{const o=q,d=S,_=le;return k(),W(G,null,[t(d,null,{actions:c(()=>[t(a(g),{label:"新增",icon:"i-lucide-plus",color:"neutral",onClick:r[0]||(r[0]=p=>h(null))})]),default:c(()=>[t(o,{ref_key:"tableRef",ref:s,"data-request":a(ee),columns:F,"scroll-x":"min-w-[1000px]"},null,8,["data-request"])]),_:1}),t(_,{dialog:a(l).isDialog,"onUpdate:dialog":r[1]||(r[1]=p=>a(l).isDialog=p),"current-form":a(l).currentForm,onRefresh:b},null,8,["dialog","current-form"])],64)}}});export{Ne as default};
