import{U as p,a as d}from"./DiI9-bkE.js";import{_ as i}from"./Bml5z8l2.js";import{_ as x}from"./Odvr87Pg.js";import{_ as f}from"./CuFgEFCp.js";import{_}from"./Baq49nZQ.js";import{f as g}from"./CE7u-7DH.js";import{E as t,p as h,z as b,a1 as w,a2 as a,a7 as o,u as y,Q as v,a5 as K,h as k}from"./Cp_GvCOL.js";import"./CM1DIlR0.js";import"./B3KMLFeu.js";import"./BlLzDdHJ.js";import"./oJBVUttf.js";import"./DkYr1hfb.js";import"./D7PB4JkZ.js";import"./DZaB2s8a.js";import"./C-fFc4Sm.js";import"./De6cJ90F.js";import"./DnWsfCtc.js";import"./K6pfE6CB.js";import"./B9BvCEkO.js";import"./DxT_AjaP.js";import"./DaMwIZ4f.js";import"./BnfZ4xmv.js";import"./CangPKqO.js";import"./C8Jf-TuN.js";import"./BHtpJmxp.js";const L=e=>e?.includes("edit")?"warning":e?.includes("add")||e?.includes("create")?"success":e?.includes("del")||e?.includes("remove")?"error":e?.includes("login")?"info":"neutral",T=[{accessorKey:"username",searchPlaceholder:"筛选管理员",header:"操作人",meta:{class:{th:"w-[140px]",td:"w-[140px]"}},cell:({row:e})=>t("div",{class:"flex items-center gap-2"},[t("div",{class:"w-8 h-8 rounded-full bg-(--ui-bg-elevated) flex items-center justify-center"},[t("span",{class:"text-sm font-medium text-(--ui-text-muted)"},e.original.username?.charAt(0)||"U")]),t("div",{class:"flex flex-col"},[t("span",{class:"font-medium text-(--ui-text-highlighted)"},e.original.username||"-"),t("span",{class:"text-xs text-(--ui-text-muted)"},`UID: ${e.original.uid||"-"}`)])])},{accessorKey:"content",header:"操作内容",searchPlaceholder:"筛选操作内容",meta:{class:{th:"w-[120px]",td:"w-[120px]"}},cell:({row:e})=>t(i,{class:"capitalize",variant:"subtle",color:L(e.original.module)},()=>e.original.content||"-")},{accessorKey:"module",header:"操作模块",meta:{class:{th:"w-[180px]",td:"w-[180px]"}},cell:({row:e})=>t("code",{class:"px-2 py-1 rounded bg-(--ui-bg-elevated) text-xs font-mono text-(--ui-text-muted)"},e.original.module||"-")},{accessorKey:"params",header:"操作参数",meta:{class:{th:"w-[200px]",td:"w-[200px]"}},cell:({row:e})=>{const s=e.original.params||"-";if(s==="-")return t("span",{class:"text-(--ui-text-muted)"},"-");const r=s.length>50?s.substring(0,50)+"...":s;return t(_,{text:s,class:"max-w-md"},()=>t("code",{class:"px-2 py-1 rounded bg-(--ui-bg-elevated) text-xs font-mono text-(--ui-text-muted) truncate block max-w-[180px] cursor-help"},r))}},{accessorKey:"ip",header:"IP地址",meta:{class:{th:"w-[140px]",td:"w-[140px]"}},cell:({row:e})=>t("div",{class:"flex items-center gap-2"},[t("span",{class:"i-lucide-globe w-4 h-4 text-(--ui-text-muted)"}),t("span",{class:"font-mono text-sm"},e.original.ip||"-")])},{accessorKey:"ctime",header:"操作时间",meta:{class:{th:"w-[180px]",td:"w-[180px]"}},cell:({row:e})=>{const s=e.original.ctime||e.original.created_at;return!s||s==="0001-01-01T00:00:00Z"?t("span",{class:"text-(--ui-text-muted)"},"-"):t("div",{class:"flex items-center gap-2"},[t("span",{class:"i-lucide-clock w-4 h-4 text-(--ui-text-muted)"}),t("span",{class:"text-sm"},g(s))])}}],U={class:"flex items-center gap-2"},ee=h({name:"AdminLogList",__name:"adminlog",setup(e){const s=k(),r=[...T];return(B,n)=>{const c=d,l=i,m=x,u=f;return b(),w(u,null,{actions:a(()=>[v("div",U,[o(l,{color:"neutral",variant:"subtle",size:"lg"},{leading:a(()=>[o(c,{name:"i-material-symbols-info-outline",class:"w-4 h-4"})]),default:a(()=>[n[0]||(n[0]=K(" 只读日志 ",-1))]),_:1})])]),default:a(()=>[o(m,{ref_key:"tableRef",ref:s,"data-request":y(p),columns:r,"scroll-x":"min-w-[1200px]"},null,8,["data-request"])]),_:1})}}});export{ee as default};
