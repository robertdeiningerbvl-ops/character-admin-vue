import{ab as K,ac as N,A as U,B as L,a3 as R,ad as C,C as $,E as q,ae as I,b as j,af as g,g as A,ag as k,ah as H,ai as Y,aj as F,ak as B,P as X,al as z}from"./DiI9-bkE.js";import{c as M,h as E,w as x,n as D,y as G,aj as V,p as J,q as _,z as Q,a1 as Z,a2 as ee,B as te,u as ne,r as ae}from"./Cp_GvCOL.js";const re=N(()=>{const e=E(new Map),t=E(),n=M(()=>{for(const v of e.value.values())if(v)return!0;return!1}),o=U({scrollBody:E(!0)});let c=null;const p=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",C&&c?.(),t.value=void 0};return x(n,(v,m)=>{if(!L)return;if(!v){m&&p();return}t.value===void 0&&(t.value=document.body.style.overflow);const l=window.innerWidth-document.documentElement.clientWidth,h={padding:l,margin:0},r=o.scrollBody?.value?typeof o.scrollBody.value=="object"?R({padding:o.scrollBody.value.padding===!0?l:o.scrollBody.value.padding,margin:o.scrollBody.value.margin===!0?l:o.scrollBody.value.margin},h):h:{padding:0,margin:0};l>0&&(document.body.style.paddingRight=typeof r.padding=="number"?`${r.padding}px`:String(r.padding),document.body.style.marginRight=typeof r.margin=="number"?`${r.margin}px`:String(r.margin),document.documentElement.style.setProperty("--scrollbar-width",`${l}px`),document.body.style.overflow="hidden"),C&&(c=$(document,"touchmove",a=>oe(a),{passive:!1})),D(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function ye(e){const t=Math.random().toString(36).substring(2,7),n=re();n.value.set(t,e??!1);const o=M({get:()=>n.value.get(t)??!1,set:c=>n.value.set(t,c)});return K(()=>{n.value.delete(t)}),o}function W(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:W(n)}}function oe(e){const t=e||window.event,n=t.target;return n instanceof Element&&W(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}var se=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},b=new WeakMap,w=new WeakMap,S={},O=0,P=function(e){return e&&(e.host||P(e.parentNode))},ue=function(e,t){return t.map(function(n){if(e.contains(n))return n;var o=P(n);return o&&e.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},ie=function(e,t,n,o){var c=ue(t,Array.isArray(e)?e:[e]);S[n]||(S[n]=new WeakMap);var p=S[n],v=[],m=new Set,l=new Set(c),h=function(a){!a||m.has(a)||(m.add(a),h(a.parentNode))};c.forEach(h);var r=function(a){!a||l.has(a)||Array.prototype.forEach.call(a.children,function(s){if(m.has(s))r(s);else try{var d=s.getAttribute(o),u=d!==null&&d!=="false",i=(b.get(s)||0)+1,f=(p.get(s)||0)+1;b.set(s,i),p.set(s,f),v.push(s),i===1&&u&&w.set(s,!0),f===1&&s.setAttribute(n,"true"),u||s.setAttribute(o,"true")}catch(y){console.error("aria-hidden: cannot operate on ",s,y)}})};return r(t),m.clear(),O++,function(){v.forEach(function(a){var s=b.get(a)-1,d=p.get(a)-1;b.set(a,s),p.set(a,d),s||(w.has(a)||a.removeAttribute(o),w.delete(a)),d||a.removeAttribute(n)}),O--,O||(b=new WeakMap,b=new WeakMap,w=new WeakMap,S={})}},ce=function(e,t,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),c=se(e);return c?(o.push.apply(o,Array.from(c.querySelectorAll("[aria-live], script"))),ie(o,c,n,"aria-hidden")):function(){return null}};function he(e){let t;x(()=>q(e),n=>{n?t=ce(n):t&&t()}),G(()=>{t&&t()})}function ge(e,t="reka"){return e||`${t}-${V?.()}`}const le=I(()=>E([]));function de(){const e=le();return{add(t){const n=e.value[0];t!==n&&n?.pause(),e.value=T(e.value,t),e.value.unshift(t)},remove(t){e.value=T(e.value,t),e.value[0]?.resume()}}}function T(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function fe(e){return e.filter(t=>t.tagName!=="A")}var ve=J({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,o=t,{currentRef:c,currentElement:p}=j(),v=E(null),m=de(),l=ae({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});_(r=>{if(!L)return;const a=p.value;if(!n.trapped)return;function s(f){if(l.paused||!a)return;const y=f.target;a.contains(y)?v.value=y:g(v.value,{select:!0})}function d(f){if(l.paused||!a)return;const y=f.relatedTarget;y!==null&&(a.contains(y)||g(v.value,{select:!0}))}function u(f){a.contains(v.value)||g(a)}document.addEventListener("focusin",s),document.addEventListener("focusout",d);const i=new MutationObserver(u);a&&i.observe(a,{childList:!0,subtree:!0}),r(()=>{document.removeEventListener("focusin",s),document.removeEventListener("focusout",d),i.disconnect()})}),_(async r=>{const a=p.value;if(await D(),!a)return;m.add(l);const s=A();if(!a.contains(s)){const u=new CustomEvent(k,B);a.addEventListener(k,i=>o("mountAutoFocus",i)),a.dispatchEvent(u),u.defaultPrevented||(H(fe(Y(a)),{select:!0}),A()===s&&g(a))}r(()=>{a.removeEventListener(k,f=>o("mountAutoFocus",f));const u=new CustomEvent(F,B),i=f=>{o("unmountAutoFocus",f)};a.addEventListener(F,i),a.dispatchEvent(u),setTimeout(()=>{u.defaultPrevented||g(s??document.body,{select:!0}),a.removeEventListener(F,i),m.remove(l)},0)})});function h(r){if(!n.loop&&!n.trapped||l.paused)return;const a=r.key==="Tab"&&!r.altKey&&!r.ctrlKey&&!r.metaKey,s=A();if(a&&s){const d=r.currentTarget,[u,i]=z(d);u&&i?!r.shiftKey&&s===i?(r.preventDefault(),n.loop&&g(u,{select:!0})):r.shiftKey&&s===u&&(r.preventDefault(),n.loop&&g(i,{select:!0})):s===d&&r.preventDefault()}}return(r,a)=>(Q(),Z(ne(X),{ref_key:"currentRef",ref:c,tabindex:"-1","as-child":r.asChild,as:r.as,onKeydown:h},{default:ee(()=>[te(r.$slots,"default")]),_:3},8,["as-child","as"]))}}),be=ve;export{be as F,he as a,ge as b,ye as u};
