import{_ as Oe}from"./CEcF5dWm.js";import{aG as je,i as B,c as S,S as Te,aH as We,aI as Le,aJ as re,aK as Ne,f as L,N as Ae,h as Ke,R as Ge,Q as te,aL as oe,a as F,o as _,w as y,r as Z,C as z,b as a,M as T,P as ae,V as O,q as De,l as pe,U as G,a1 as He,B as d,k as E,D as k,_ as W,I as X,a4 as ue,F as Fe,G as qe,H as Ye,n as de,af as Je,u as Ze,a8 as Qe,ag as Xe,ak as et,al as tt,t as ye,ap as Se,ai as at,j as Ce,aM as it,aE as lt,aF as D,aN as st,aO as rt,A as ot,aP as fe,aQ as ge}from"./DhOLkSnF.js";import{_ as nt,a as mt,b as ut,c as dt}from"./DAqc9GYg.js";import{_ as ct}from"./CSbqei5V.js";import{c as pt,s as bt,_ as yt}from"./D0vBe5Vh.js";import{_ as ft}from"./DAeRr84W.js";import{_ as Pe}from"./DAIKkUkW.js";import{_ as gt}from"./Kwaskf5N.js";import{_ as vt,a as ht}from"./DQLwzL7i.js";import{_ as Ie}from"./BZLiX_8y.js";import{u as xt}from"./BrXYpapi.js";import{V as wt}from"./CemQtCgh.js";import{a as _t,u as $t,b as kt}from"./Bo5OMT4U.js";import{_ as Vt}from"./Db__RPjw.js";import{u as Nt,c as Dt,g as Ft,d as qt}from"./DU92BzlQ.js";import{o as St,n as ve}from"./B-mCBPct.js";import{_ as he}from"./-rcGzxkB.js";import{u as Ct}from"./BVQSm7Ip.js";import{c as Q}from"./45RcOEEf.js";import"./CZg69nbc.js";import"./CwtpYSSp.js";import"./DPsBupTg.js";import"./9Rxep3Q5.js";import"./CLKxJTZi.js";import"./BXSyqGa5.js";import"./HRiyi1uV.js";import"./CseYhDvv.js";import"./CLU2_0cD.js";function Pt(l){const e=je({locale:B("en")});return S(()=>l?.value||e.locale?.value||"en")}let ne=new Map,ce=!1;try{ce=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let ee=!1;try{ee=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const ze={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class Ee{format(e){let t="";if(!ce&&this.options.signDisplay!=null?t=zt(this.numberFormatter,this.options.signDisplay,e):t=this.numberFormatter.format(e),this.options.style==="unit"&&!ee){var i;let{unit:s,unitDisplay:n="short",locale:u}=this.resolvedOptions();if(!s)return t;let m=(i=ze[s])===null||i===void 0?void 0:i[n];t+=m[u]||m.default}return t}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,t){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(t)}`}formatRangeToParts(e,t){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let i=this.numberFormatter.formatToParts(e),s=this.numberFormatter.formatToParts(t);return[...i.map(n=>({...n,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...s.map(n=>({...n,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!ce&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!ee&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,t={}){this.numberFormatter=It(e,t),this.options=t}}function It(l,e={}){let{numberingSystem:t}=e;if(t&&l.includes("-nu-")&&(l.includes("-u-")||(l+="-u-"),l+=`-nu-${t}`),e.style==="unit"&&!ee){var i;let{unit:u,unitDisplay:m="short"}=e;if(!u)throw new Error('unit option must be provided with style: "unit"');if(!(!((i=ze[u])===null||i===void 0)&&i[m]))throw new Error(`Unsupported unit ${u} with unitDisplay = ${m}`);e={...e,style:"decimal"}}let s=l+(e?Object.entries(e).sort((u,m)=>u[0]<m[0]?-1:1).join():"");if(ne.has(s))return ne.get(s);let n=new Intl.NumberFormat(l,e);return ne.set(s,n),n}function zt(l,e,t){if(e==="auto")return l.format(t);if(e==="never")return l.format(Math.abs(t));{let i=!1;if(e==="always"?i=t>0||Object.is(t,0):e==="exceptZero"&&(Object.is(t,-0)||Object.is(t,0)?t=Math.abs(t):i=t>0),i){let s=l.format(-t),n=l.format(t),u=s.replace(n,"").replace(/\u200e|\u061C/,"");return[...u].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),s.replace(n,"!!!").replace(u,"+").replace("!!!",n)}else return l.format(t)}}const Et=new RegExp("^.*\\(.*\\).*$"),Mt=["latn","arab","hanidec","deva","beng","fullwide"];class Me{parse(e){return me(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,t,i){return me(this.locale,this.options,e).isValidPartialNumber(e,t,i)}getNumberingSystem(e){return me(this.locale,this.options,e).options.numberingSystem}constructor(e,t={}){this.locale=e,this.options=t}}const xe=new Map;function me(l,e,t){let i=we(l,e);if(!l.includes("-nu-")&&!i.isValidPartialNumber(t)){for(let s of Mt)if(s!==i.options.numberingSystem){let n=we(l+(l.includes("-u-")?"-nu-":"-u-nu-")+s,e);if(n.isValidPartialNumber(t))return n}}return i}function we(l,e){let t=l+(e?Object.entries(e).sort((s,n)=>s[0]<n[0]?-1:1).join():""),i=xe.get(t);return i||(i=new Rt(l,e),xe.set(t,i)),i}class Rt{parse(e){let t=this.sanitize(e);if(this.symbols.group&&(t=J(t,this.symbols.group,"")),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(t=t.replace(this.symbols.minusSign,"-")),t=t.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let u=t.indexOf("-");t=t.replace("-",""),t=t.replace("+","");let m=t.indexOf(".");m===-1&&(m=t.length),t=t.replace(".",""),m-2===0?t=`0.${t}`:m-2===-1?t=`0.0${t}`:m-2===-2?t="0.00":t=`${t.slice(0,m-2)}.${t.slice(m-2)}`,u>-1&&(t=`-${t}`)}let i=t?+t:NaN;if(isNaN(i))return NaN;if(this.options.style==="percent"){var s,n;let u={...this.options,style:"decimal",minimumFractionDigits:Math.min(((s=this.options.minimumFractionDigits)!==null&&s!==void 0?s:0)+2,20),maximumFractionDigits:Math.min(((n=this.options.maximumFractionDigits)!==null&&n!==void 0?n:0)+2,20)};return new Me(this.locale,u).parse(new Ee(this.locale,u).format(i))}return this.options.currencySign==="accounting"&&Et.test(e)&&(i=-1*i),i}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("،",this.symbols.decimal)),this.symbols.group&&(e=J(e,".",this.symbols.group))),this.symbols.group==="’"&&e.includes("'")&&(e=J(e,"'",this.symbols.group)),this.options.locale==="fr-FR"&&this.symbols.group&&(e=J(e," ",this.symbols.group),e=J(e,/\u00A0/g,this.symbols.group)),e}isValidPartialNumber(e,t=-1/0,i=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&t<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&i>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=J(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,t={}){this.locale=e,t.roundingIncrement!==1&&t.roundingIncrement!=null&&(t.maximumFractionDigits==null&&t.minimumFractionDigits==null?(t.maximumFractionDigits=0,t.minimumFractionDigits=0):t.maximumFractionDigits==null?t.maximumFractionDigits=t.minimumFractionDigits:t.minimumFractionDigits==null&&(t.minimumFractionDigits=t.maximumFractionDigits)),this.formatter=new Intl.NumberFormat(e,t),this.options=this.formatter.resolvedOptions(),this.symbols=Ut(e,this.formatter,this.options,t);var i,s;this.options.style==="percent"&&(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)>18||((s=this.options.maximumFractionDigits)!==null&&s!==void 0?s:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const _e=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),Bt=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function Ut(l,e,t,i){var s,n,u,m;let c=new Intl.NumberFormat(l,{...t,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),r=c.formatToParts(-10000.111),f=c.formatToParts(10000.111),$=Bt.map(w=>c.formatToParts(w));var v;let C=(v=(s=r.find(w=>w.type==="minusSign"))===null||s===void 0?void 0:s.value)!==null&&v!==void 0?v:"-",b=(n=f.find(w=>w.type==="plusSign"))===null||n===void 0?void 0:n.value;!b&&(i?.signDisplay==="exceptZero"||i?.signDisplay==="always")&&(b="+");let p=(u=new Intl.NumberFormat(l,{...t,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(w=>w.type==="decimal"))===null||u===void 0?void 0:u.value,h=(m=r.find(w=>w.type==="group"))===null||m===void 0?void 0:m.value,V=r.filter(w=>!_e.has(w.type)).map(w=>$e(w.value)),P=$.flatMap(w=>w.filter(g=>!_e.has(g.type)).map(g=>$e(g.value))),N=[...new Set([...V,...P])].sort((w,g)=>g.length-w.length),j=N.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${N.join("|")}|[\\p{White_Space}]`,"gu"),U=[...new Intl.NumberFormat(t.locale,{useGrouping:!1}).format(9876543210)].reverse(),q=new Map(U.map((w,g)=>[w,g])),M=new RegExp(`[${U.join("")}]`,"g");return{minusSign:C,plusSign:b,decimal:p,group:h,literals:j,numeral:M,index:w=>String(q.get(w))}}function J(l,e,t){return l.replaceAll?l.replaceAll(e,t):l.split(e).join(t)}function $e(l){return l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Re(l){const{disabled:e}=l,t=B(),i=Te(),s=()=>window.clearTimeout(t.value),n=v=>{s(),!e.value&&(i.trigger(),t.value=window.setTimeout(()=>{n(60)},v))},u=()=>{n(400)},m=()=>{s()},c=B(!1),r=S(()=>We(l.target)),f=v=>{v.button!==0||c.value||(v.preventDefault(),c.value=!0,u())},$=()=>{c.value=!1,m()};return Le&&(re(r||window,"pointerdown",f),re(window,"pointerup",$),re(window,"pointercancel",$)),{isPressed:c,onTrigger:i.on}}function ke(l,e=B({})){return Ne(()=>new Ee(l.value,e.value))}function Ot(l,e=B({})){return Ne(()=>new Me(l.value,e.value))}function Ve(l,e,t){let i=l==="+"?e+t:e-t;if(e%1!==0||t%1!==0){const s=e.toString().split("."),n=t.toString().split("."),u=s[1]&&s[1].length||0,m=n[1]&&n[1].length||0,c=10**Math.max(u,m);e=Math.round(e*c),t=Math.round(t*c),i=l==="+"?e+t:e-t,i/=c}return i}const[be,jt]=Ae("NumberFieldRoot");var Tt=L({inheritAttrs:!1,__name:"NumberFieldRoot",props:{defaultValue:{type:Number,required:!1,default:void 0},modelValue:{type:[Number,null],required:!1},min:{type:Number,required:!1},max:{type:Number,required:!1},step:{type:Number,required:!1,default:1},stepSnapping:{type:Boolean,required:!1,default:!0},formatOptions:{type:null,required:!1},locale:{type:String,required:!1},disabled:{type:Boolean,required:!1},readonly:{type:Boolean,required:!1},disableWheelChange:{type:Boolean,required:!1},invertWheelChange:{type:Boolean,required:!1},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(l,{emit:e}){const t=l,i=e,{disabled:s,readonly:n,disableWheelChange:u,invertWheelChange:m,min:c,max:r,step:f,stepSnapping:$,formatOptions:v,id:C,locale:b}=Ke(t),o=Ge(t,"modelValue",i,{defaultValue:t.defaultValue,passive:t.modelValue===void 0}),{primitiveElement:p,currentElement:h}=te(),V=Pt(b),P=xt(h),N=B(),j=S(()=>!oe(o.value)&&(K(o.value)===c.value||c.value&&!isNaN(o.value)?Ve("-",o.value,f.value)<c.value:!1)),U=S(()=>!oe(o.value)&&(K(o.value)===r.value||r.value&&!isNaN(o.value)?Ve("+",o.value,f.value)>r.value:!1));function q(x,I=1){if(N.value?.focus(),t.disabled||t.readonly)return;const se=Y.parse(N.value?.value??"");isNaN(se)?o.value=c.value??0:x==="increase"?o.value=K(se+(f.value??1)*I):o.value=K(se-(f.value??1)*I)}function M(x=1){q("increase",x)}function H(x=1){q("decrease",x)}function w(x){x==="min"&&c.value!==void 0?o.value=K(c.value):x==="max"&&r.value!==void 0&&(o.value=K(r.value))}const g=ke(V,v),Y=Ot(V,v),ie=S(()=>g.resolvedOptions().maximumFractionDigits>0?"decimal":"numeric"),R=ke(V,v),A=S(()=>oe(o.value)||isNaN(o.value)?"":R.format(o.value));function Be(x){return Y.isValidPartialNumber(x,c.value,r.value)}function le(x){N.value&&(N.value.value=x)}function K(x){let I;return f.value===void 0||isNaN(f.value)||!$.value?I=pt(x,c.value,r.value):I=bt(x,c.value,r.value,f.value),I=Y.parse(g.format(I)),I}function Ue(x){const I=Y.parse(x);return o.value=isNaN(I)?void 0:K(I),x.length?(isNaN(I),le(A.value)):le(x)}return jt({modelValue:o,handleDecrease:H,handleIncrease:M,handleMinMaxValue:w,inputMode:ie,inputEl:N,onInputElement:x=>N.value=x,textValue:A,validate:Be,applyInputValue:Ue,disabled:s,readonly:n,disableWheelChange:u,invertWheelChange:m,max:r,min:c,isDecreaseDisabled:j,isIncreaseDisabled:U,id:C}),(x,I)=>(_(),F(a(ae),T(x.$attrs,{ref_key:"primitiveElement",ref:p,role:"group",as:x.as,"as-child":x.asChild,"data-disabled":a(s)?"":void 0,"data-readonly":a(n)?"":void 0}),{default:y(()=>[Z(x.$slots,"default",{modelValue:a(o),textValue:A.value}),a(P)&&x.name?(_(),F(a(wt),{key:0,type:"text",value:a(o),name:x.name,disabled:a(s),readonly:a(n),required:x.required},null,8,["value","name","disabled","readonly","required"])):z("v-if",!0)]),_:3},16,["as","as-child","data-disabled","data-readonly"]))}}),Wt=Tt,Lt=L({__name:"NumberFieldDecrement",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(l){const e=l,t=be(),i=S(()=>t.disabled?.value||t.readonly.value||e.disabled||t.isDecreaseDisabled.value),{primitiveElement:s,currentElement:n}=te(),{isPressed:u,onTrigger:m}=Re({target:n,disabled:i});return m(()=>{t.handleDecrease()}),(c,r)=>(_(),F(a(ae),T(e,{ref_key:"primitiveElement",ref:s,tabindex:"-1","aria-label":"Decrease",type:c.as==="button"?"button":void 0,style:{userSelect:a(u)?"none":void 0},disabled:i.value?"":void 0,"data-disabled":i.value?"":void 0,"data-pressed":a(u)?"true":void 0,onContextmenu:r[0]||(r[0]=O(()=>{},["prevent"]))}),{default:y(()=>[Z(c.$slots,"default")]),_:3},16,["type","style","disabled","data-disabled","data-pressed"]))}}),At=Lt,Kt=L({__name:"NumberFieldIncrement",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(l){const e=l,t=be(),i=S(()=>t.disabled?.value||t.readonly.value||e.disabled||t.isIncreaseDisabled.value),{primitiveElement:s,currentElement:n}=te(),{isPressed:u,onTrigger:m}=Re({target:n,disabled:i});return m(()=>{t.handleIncrease()}),(c,r)=>(_(),F(a(ae),T(e,{ref_key:"primitiveElement",ref:s,tabindex:"-1","aria-label":"Increase",type:c.as==="button"?"button":void 0,style:{userSelect:a(u)?"none":void 0},disabled:i.value?"":void 0,"data-disabled":i.value?"":void 0,"data-pressed":a(u)?"true":void 0,onContextmenu:r[0]||(r[0]=O(()=>{},["prevent"]))}),{default:y(()=>[Z(c.$slots,"default")]),_:3},16,["type","style","disabled","data-disabled","data-pressed"]))}}),Gt=Kt,Ht=L({__name:"NumberFieldInput",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},setup(l){const e=l,{primitiveElement:t,currentElement:i}=te(),s=be();function n(c){s.disableWheelChange.value||c.target===He()&&(Math.abs(c.deltaY)<=Math.abs(c.deltaX)||(c.preventDefault(),c.deltaY>0?s.invertWheelChange.value?s.handleDecrease():s.handleIncrease():c.deltaY<0&&(s.invertWheelChange.value?s.handleIncrease():s.handleDecrease())))}De(()=>{s.onInputElement(i.value)});const u=B(s.textValue.value);pe(()=>s.textValue.value,()=>{u.value=s.textValue.value},{immediate:!0,deep:!0});function m(){requestAnimationFrame(()=>{u.value=s.textValue.value})}return(c,r)=>(_(),F(a(ae),T(e,{id:a(s).id.value,ref_key:"primitiveElement",ref:t,value:u.value,role:"spinbutton",type:"text",tabindex:"0",inputmode:a(s).inputMode.value,disabled:a(s).disabled.value?"":void 0,"data-disabled":a(s).disabled.value?"":void 0,readonly:a(s).readonly.value?"":void 0,"data-readonly":a(s).readonly.value?"":void 0,autocomplete:"off",autocorrect:"off",spellcheck:"false","aria-roledescription":"Number field","aria-valuenow":a(s).modelValue.value,"aria-valuemin":a(s).min.value,"aria-valuemax":a(s).max.value,onKeydown:[r[0]||(r[0]=G(O(f=>a(s).handleIncrease(),["prevent"]),["up"])),r[1]||(r[1]=G(O(f=>a(s).handleDecrease(),["prevent"]),["down"])),r[2]||(r[2]=G(O(f=>a(s).handleIncrease(10),["prevent"]),["page-up"])),r[3]||(r[3]=G(O(f=>a(s).handleDecrease(10),["prevent"]),["page-down"])),r[4]||(r[4]=G(O(f=>a(s).handleMinMaxValue("min"),["prevent"]),["home"])),r[5]||(r[5]=G(O(f=>a(s).handleMinMaxValue("max"),["prevent"]),["end"])),r[8]||(r[8]=G(f=>a(s).applyInputValue(f.target?.value),["enter"]))],onWheel:n,onBeforeinput:r[6]||(r[6]=f=>{const $=f.target;let v=$.value.slice(0,$.selectionStart??void 0)+(f.data??"")+$.value.slice($.selectionEnd??void 0);a(s).validate(v)||f.preventDefault()}),onInput:r[7]||(r[7]=f=>{const $=f.target;u.value=$.value}),onChange:m,onBlur:r[9]||(r[9]=f=>a(s).applyInputValue(f.target?.value))}),{default:y(()=>[Z(c.$slots,"default")]),_:3},16,["id","value","inputmode","disabled","data-disabled","readonly","data-readonly","aria-valuenow","aria-valuemin","aria-valuemax"]))}}),Yt=Ht;const Jt=L({__name:"RadioTree",props:{menu:{default:[]},value:{default:0}},emits:["change"],setup(l,{emit:e}){const t=e,i=(s,n)=>{n&&t("change",s.value)};return(s,n)=>{const u=gt,m=vt;return _(),F(m,{items:l.menu,orientation:"vertical",ui:{item:"mb-1",linkLeadingIcon:"text-(--ui-primary)",linkLabel:"text-(--ui-primary)"}},{"item-leading":y(({item:c})=>[d(u,{"default-value":c.value===l.value,"onUpdate:modelValue":r=>i(c,r),onClick:n[0]||(n[0]=O(()=>{},["stop"]))},null,8,["default-value","onUpdate:modelValue"])]),_:1},8,["items"])}}}),Zt=Object.assign(Jt,{__name:"RadioTree"}),Qt={class:"w-full"},Xt={class:"flex gap-2"},ea={class:"flex flex-col gap-4"},ta={class:"grid grid-cols-8 gap-2 max-h-[400px] overflow-y-auto p-2"},aa=["title","onClick"],ia={key:0,class:"text-center py-8 text-gray-500"},la={class:"flex justify-between items-center w-full"},sa={class:"text-sm text-gray-500"},ra=L({__name:"IconPicker",props:{modelValue:{default:""}},emits:["update:modelValue"],setup(l,{emit:e}){const t=l,i=e,s=B(!1),n=B(""),u=B(t.modelValue),m=["i-material-symbols-home","i-material-symbols-home-outline","i-material-symbols-dashboard","i-material-symbols-dashboard-outline","i-material-symbols-menu","i-material-symbols-menu-open","i-material-symbols-apps","i-material-symbols-grid-view","i-material-symbols-view-module","i-material-symbols-view-list","i-material-symbols-view-agenda","i-material-symbols-person","i-material-symbols-person-outline","i-material-symbols-account-circle","i-material-symbols-account-circle-outline","i-material-symbols-group","i-material-symbols-group-outline","i-material-symbols-supervisor-account","i-material-symbols-badge","i-material-symbols-badge-outline","i-material-symbols-settings","i-material-symbols-settings-outline","i-material-symbols-tune","i-material-symbols-build","i-material-symbols-build-circle","i-material-symbols-construction","i-material-symbols-engineering","i-material-symbols-search","i-material-symbols-search-outline","i-material-symbols-filter-list","i-material-symbols-filter-alt","i-material-symbols-sort","i-material-symbols-zoom-in","i-material-symbols-zoom-out","i-material-symbols-edit","i-material-symbols-edit-outline","i-material-symbols-edit-square","i-material-symbols-edit-square-outline","i-material-symbols-delete","i-material-symbols-delete-outline","i-material-symbols-delete-forever","i-material-symbols-add","i-material-symbols-add-circle","i-material-symbols-add-circle-outline","i-material-symbols-remove","i-material-symbols-remove-circle","i-material-symbols-remove-circle-outline","i-material-symbols-close","i-material-symbols-cancel","i-material-symbols-cancel-outline","i-material-symbols-save","i-material-symbols-save-outline","i-material-symbols-save-as","i-material-symbols-upload","i-material-symbols-upload-file","i-material-symbols-download","i-material-symbols-cloud-upload","i-material-symbols-cloud-download","i-material-symbols-file-copy","i-material-symbols-content-copy","i-material-symbols-content-paste","i-material-symbols-folder","i-material-symbols-folder-outline","i-material-symbols-folder-open","i-material-symbols-folder-special","i-material-symbols-description","i-material-symbols-description-outline","i-material-symbols-insert-drive-file","i-material-symbols-note","i-material-symbols-article","i-material-symbols-draft","i-material-symbols-image","i-material-symbols-image-outline","i-material-symbols-photo","i-material-symbols-photo-camera","i-material-symbols-camera-alt","i-material-symbols-videocam","i-material-symbols-video-library","i-material-symbols-play-circle","i-material-symbols-play-arrow","i-material-symbols-pause","i-material-symbols-pause-circle","i-material-symbols-stop","i-material-symbols-stop-circle","i-material-symbols-volume-up","i-material-symbols-volume-down","i-material-symbols-volume-off","i-material-symbols-volume-mute","i-material-symbols-music-note","i-material-symbols-audiotrack","i-material-symbols-headphones","i-material-symbols-mic","i-material-symbols-mic-off","i-material-symbols-mail","i-material-symbols-mail-outline","i-material-symbols-email","i-material-symbols-drafts","i-material-symbols-send","i-material-symbols-chat","i-material-symbols-chat-outline","i-material-symbols-forum","i-material-symbols-message","i-material-symbols-comment","i-material-symbols-phone","i-material-symbols-call","i-material-symbols-smartphone","i-material-symbols-notifications","i-material-symbols-notifications-outline","i-material-symbols-notifications-active","i-material-symbols-notifications-off","i-material-symbols-alarm","i-material-symbols-alarm-on","i-material-symbols-alarm-add","i-material-symbols-schedule","i-material-symbols-event","i-material-symbols-event-note","i-material-symbols-calendar-today","i-material-symbols-calendar-month","i-material-symbols-star","i-material-symbols-star-outline","i-material-symbols-star-half","i-material-symbols-favorite","i-material-symbols-favorite-outline","i-material-symbols-bookmark","i-material-symbols-bookmark-outline","i-material-symbols-bookmark-added","i-material-symbols-flag","i-material-symbols-flag-outline","i-material-symbols-label","i-material-symbols-label-outline","i-material-symbols-tag","i-material-symbols-lock","i-material-symbols-lock-outline","i-material-symbols-lock-open","i-material-symbols-security","i-material-symbols-shield","i-material-symbols-verified","i-material-symbols-verified-user","i-material-symbols-key","i-material-symbols-vpn-key","i-material-symbols-fingerprint","i-material-symbols-visibility","i-material-symbols-visibility-outline","i-material-symbols-visibility-off","i-material-symbols-remove-red-eye","i-material-symbols-preview","i-material-symbols-shopping-cart","i-material-symbols-shopping-cart-outline","i-material-symbols-shopping-bag","i-material-symbols-store","i-material-symbols-storefront","i-material-symbols-credit-card","i-material-symbols-payment","i-material-symbols-wallet","i-material-symbols-receipt","i-material-symbols-receipt-long","i-material-symbols-attach-money","i-material-symbols-monetization-on","i-material-symbols-currency-yuan","i-material-symbols-currency-exchange","i-material-symbols-savings","i-material-symbols-account-balance","i-material-symbols-account-balance-wallet","i-material-symbols-trending-up","i-material-symbols-trending-down","i-material-symbols-trending-flat","i-material-symbols-analytics","i-material-symbols-analytics-outline","i-material-symbols-bar-chart","i-material-symbols-pie-chart","i-material-symbols-donut-large","i-material-symbols-leaderboard","i-material-symbols-insights","i-material-symbols-query-stats","i-material-symbols-data-usage","i-material-symbols-location-on","i-material-symbols-location-off","i-material-symbols-place","i-material-symbols-pin-drop","i-material-symbols-map","i-material-symbols-explore","i-material-symbols-navigation","i-material-symbols-directions","i-material-symbols-access-time","i-material-symbols-timer","i-material-symbols-hourglass-empty","i-material-symbols-history","i-material-symbols-update","i-material-symbols-restore","i-material-symbols-wb-sunny","i-material-symbols-nightlight","i-material-symbols-cloud","i-material-symbols-water-drop","i-material-symbols-air","i-material-symbols-thunderstorm","i-material-symbols-wifi","i-material-symbols-wifi-off","i-material-symbols-signal-cellular-alt","i-material-symbols-bluetooth","i-material-symbols-bluetooth-disabled","i-material-symbols-language","i-material-symbols-public","i-material-symbols-share","i-material-symbols-link","i-material-symbols-link-off","i-material-symbols-computer","i-material-symbols-laptop","i-material-symbols-tablet","i-material-symbols-phone-android","i-material-symbols-phone-iphone","i-material-symbols-watch","i-material-symbols-tv","i-material-symbols-headset","i-material-symbols-keyboard","i-material-symbols-mouse","i-material-symbols-battery-full","i-material-symbols-battery-charging-full","i-material-symbols-power","i-material-symbols-print","i-material-symbols-code","i-material-symbols-code-blocks","i-material-symbols-terminal","i-material-symbols-database","i-material-symbols-storage","i-material-symbols-api","i-material-symbols-bug-report","i-material-symbols-integration-instructions","i-material-symbols-check","i-material-symbols-check-circle","i-material-symbols-check-circle-outline","i-material-symbols-done","i-material-symbols-done-all","i-material-symbols-error","i-material-symbols-error-outline","i-material-symbols-warning","i-material-symbols-warning-outline","i-material-symbols-info","i-material-symbols-info-outline","i-material-symbols-help","i-material-symbols-help-outline","i-material-symbols-priority-high","i-material-symbols-new-releases","i-material-symbols-arrow-upward","i-material-symbols-arrow-downward","i-material-symbols-arrow-back","i-material-symbols-arrow-forward","i-material-symbols-arrow-back-ios","i-material-symbols-arrow-forward-ios","i-material-symbols-expand-more","i-material-symbols-expand-less","i-material-symbols-chevron-left","i-material-symbols-chevron-right","i-material-symbols-unfold-more","i-material-symbols-unfold-less","i-material-symbols-first-page","i-material-symbols-last-page","i-material-symbols-refresh","i-material-symbols-sync","i-material-symbols-sync-alt","i-material-symbols-cached","i-material-symbols-swap-horiz","i-material-symbols-swap-vert","i-material-symbols-fullscreen","i-material-symbols-fullscreen-exit","i-material-symbols-open-in-new","i-material-symbols-open-in-full","i-material-symbols-launch","i-material-symbols-lightbulb","i-material-symbols-lightbulb-outline","i-material-symbols-tips-and-updates","i-material-symbols-psychology","i-material-symbols-emoji-objects","i-material-symbols-gift","i-material-symbols-celebration","i-material-symbols-local-activity","i-material-symbols-local-offer","i-material-symbols-loyalty"],c=S(()=>n.value?m.filter($=>$.toLowerCase().includes(n.value.toLowerCase())):m),r=$=>{u.value=$,i("update:modelValue",$),s.value=!1},f=()=>{u.value="",i("update:modelValue","")};return pe(()=>t.modelValue,$=>{u.value=$}),($,v)=>{const C=X,b=W,o=Pe,p=Ie;return _(),E("div",Qt,[k("div",Xt,[d(o,{"model-value":a(u),placeholder:"选择图标",readonly:"",class:"flex-1 cursor-pointer",onClick:v[0]||(v[0]=h=>s.value=!0)},{leading:y(()=>[a(u)?(_(),F(C,{key:0,name:a(u),class:"w-5 h-5"},null,8,["name"])):(_(),F(C,{key:1,name:"i-lucide-search",class:"w-5 h-5 text-gray-400"}))]),trailing:y(()=>[a(u)?(_(),F(b,{key:0,color:"neutral",variant:"link",size:"sm",icon:"i-lucide-circle-x",onClick:O(f,["stop"])})):z("",!0)]),_:1},8,["model-value"]),d(b,{icon:"i-lucide-gallery-horizontal",color:"neutral",variant:"outline",onClick:v[1]||(v[1]=h=>s.value=!0)})]),d(p,{open:a(s),"onUpdate:open":v[5]||(v[5]=h=>ue(s)?s.value=h:null),title:"选择图标"},{body:y(()=>[k("div",ea,[d(o,{modelValue:a(n),"onUpdate:modelValue":v[3]||(v[3]=h=>ue(n)?n.value=h:null),placeholder:"搜索图标...",icon:"i-lucide-search"},{trailing:y(()=>[a(n)?(_(),F(b,{key:0,color:"neutral",variant:"link",size:"sm",icon:"i-lucide-circle-x",onClick:v[2]||(v[2]=h=>n.value="")})):z("",!0)]),_:1},8,["modelValue"]),k("div",ta,[(_(!0),E(qe,null,Ye(a(c),h=>(_(),E("button",{key:h,title:h,class:de(["flex items-center justify-center p-3 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800 hover:border-primary-500 transition-all cursor-pointer",{"bg-primary-50 dark:bg-primary-900/20 border-primary-500":a(u)===h}]),onClick:V=>r(h)},[d(C,{name:h,class:"w-6 h-6"},null,8,["name"])],10,aa))),128))]),a(c).length===0?(_(),E("div",ia," 未找到匹配的图标 ")):z("",!0)])]),footer:y(()=>[k("div",la,[k("span",sa," 共 "+Fe(a(c).length)+" 个图标 ",1),d(b,{label:"关闭",color:"neutral",variant:"outline",onClick:v[4]||(v[4]=h=>s.value=!1)})])]),_:1},8,["open"])])}}}),oa=Object.assign(ra,{__name:"IconPicker"}),na={slots:{root:"relative inline-flex items-center",base:["w-full rounded-md border-0 placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],increment:"absolute flex items-center",decrement:"absolute flex items-center"},variants:{fieldGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},size:{xs:"px-2 py-1 text-xs gap-1",sm:"px-2.5 py-1.5 text-xs gap-1.5",md:"px-2.5 py-1.5 text-sm gap-1.5",lg:"px-3 py-2 text-sm gap-2",xl:"px-3 py-2 text-base gap-2"},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},disabled:{true:{increment:"opacity-75 cursor-not-allowed",decrement:"opacity-75 cursor-not-allowed"}},orientation:{horizontal:{base:"text-center",increment:"inset-y-0 end-0 pe-1",decrement:"inset-y-0 start-0 ps-1"},vertical:{increment:"top-0 end-0 pe-1 [&>button]:py-0 scale-80",decrement:"bottom-0 end-0 pe-1 [&>button]:py-0 scale-80"}},highlight:{true:""},increment:{false:""},decrement:{false:""}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{orientation:"horizontal",decrement:!1,class:"text-start"},{decrement:!0,size:"xs",class:"ps-7"},{decrement:!0,size:"sm",class:"ps-8"},{decrement:!0,size:"md",class:"ps-9"},{decrement:!0,size:"lg",class:"ps-10"},{decrement:!0,size:"xl",class:"ps-11"},{increment:!0,size:"xs",class:"pe-7"},{increment:!0,size:"sm",class:"pe-8"},{increment:!0,size:"md",class:"pe-9"},{increment:!0,size:"lg",class:"pe-10"},{increment:!0,size:"xl",class:"pe-11"}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},ma=Object.assign({inheritAttrs:!1},{__name:"UInputNumber",props:{as:{type:null,required:!1},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},highlight:{type:Boolean,required:!1},orientation:{type:String,required:!1,default:"horizontal"},increment:{type:[Boolean,Object],required:!1,default:!0},incrementIcon:{type:null,required:!1},incrementDisabled:{type:Boolean,required:!1},decrement:{type:[Boolean,Object],required:!1,default:!0},decrementIcon:{type:null,required:!1},decrementDisabled:{type:Boolean,required:!1},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1},modelModifiers:{type:Object,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},modelValue:{type:[Number,null],required:!1},defaultValue:{type:Number,required:!1},min:{type:Number,required:!1},max:{type:Number,required:!1},step:{type:Number,required:!1},stepSnapping:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},required:{type:Boolean,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},formatOptions:{type:null,required:!1},disableWheelChange:{type:Boolean,required:!1},invertWheelChange:{type:Boolean,required:!1},readonly:{type:Boolean,required:!1}},emits:["update:modelValue","blur","change"],setup(l,{expose:e,emit:t}){const i=l,s=t,n=_t(i,"modelValue",s,{defaultValue:i.defaultValue}),{t:u}=Je(),m=Ze(),c=Qe(Xe(i,"as","defaultValue","min","max","step","stepSnapping","formatOptions","disableWheelChange","invertWheelChange","readonly"),s),{emitFormBlur:r,emitFormFocus:f,emitFormChange:$,emitFormInput:v,id:C,color:b,size:o,name:p,highlight:h,disabled:V,ariaAttrs:P}=et(i),{orientation:N,size:j}=tt(i),U=S(()=>j.value||o.value),q=S(()=>ye({extend:ye(na),...m.ui?.inputNumber||{}})({color:b.value,variant:i.variant,size:U.value,highlight:h.value,orientation:i.orientation,fieldGroup:N.value,increment:i.orientation==="vertical"?!!i.increment||!!i.decrement:!!i.increment,decrement:i.orientation==="vertical"?!1:!!i.decrement})),M=S(()=>i.incrementIcon||(i.orientation==="horizontal"?m.ui.icons.plus:m.ui.icons.chevronUp)),H=S(()=>i.decrementIcon||(i.orientation==="horizontal"?m.ui.icons.minus:m.ui.icons.chevronDown)),w=Se("inputRef");function g(R){i.modelModifiers?.optional&&(R=R??void 0);const A=new Event("change",{target:{value:R}});s("change",A),$(),v()}function Y(R){r(),s("blur",R)}function ie(){i.autofocus&&w.value?.$el?.focus()}return De(()=>{setTimeout(()=>{ie()},i.autofocusDelay)}),e({inputRef:at(()=>w.value?.$el)}),(R,A)=>(_(),F(a(Wt),T(a(c),{id:a(C),"model-value":a(n),"data-slot":"root",class:q.value.root({class:[i.ui?.root,i.class]}),name:a(p),disabled:a(V),"onUpdate:modelValue":g}),{default:y(()=>[d(a(Yt),T({...R.$attrs,...a(P)},{ref_key:"inputRef",ref:w,placeholder:l.placeholder,required:l.required,"data-slot":"base",class:q.value.base({class:i.ui?.base}),onBlur:Y,onFocus:a(f)}),null,16,["placeholder","required","class","onFocus"]),l.increment?(_(),E("div",{key:0,"data-slot":"increment",class:de(q.value.increment({class:i.ui?.increment}))},[d(a(Gt),{"as-child":"",disabled:a(V)||l.incrementDisabled},{default:y(()=>[Z(R.$slots,"increment",{},()=>[d(W,T({icon:M.value,color:a(b),size:l.size,variant:"link","aria-label":a(u)("inputNumber.increment")},typeof l.increment=="object"?l.increment:void 0),null,16,["icon","color","size","aria-label"])])]),_:3},8,["disabled"])],2)):z("",!0),l.decrement?(_(),E("div",{key:1,"data-slot":"decrement",class:de(q.value.decrement({class:i.ui?.decrement}))},[d(a(At),{"as-child":"",disabled:a(V)||l.decrementDisabled},{default:y(()=>[Z(R.$slots,"decrement",{},()=>[d(W,T({icon:H.value,color:a(b),size:l.size,variant:"link","aria-label":a(u)("inputNumber.decrement")},typeof l.decrement=="object"?l.decrement:void 0),null,16,["icon","color","size","aria-label"])])]),_:3},8,["disabled"])],2)):z("",!0)]),_:3},16,["id","model-value","class","name","disabled"]))}}),ua={class:"p-6"},da={class:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 rounded-xl p-5 space-y-5 border border-blue-100 dark:border-blue-900/50"},ca={class:"flex items-center gap-2 mb-1"},pa={class:"grid grid-cols-2 gap-4"},ba={class:"w-[300px] max-h-[300px] overflow-y-auto"},ya={key:0,class:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30 rounded-xl p-5 space-y-5 border border-green-100 dark:border-green-900/50"},fa={class:"flex items-center gap-2 mb-1"},ga={key:1,class:"bg-gradient-to-br from-purple-50 to-violet-50 dark:from-purple-950/30 dark:to-violet-950/30 rounded-xl p-5 space-y-5 border border-purple-100 dark:border-purple-900/50"},va={class:"flex items-center gap-2 mb-1"},ha={class:"relative"},xa={key:2,class:"bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-950/30 dark:to-orange-950/30 rounded-xl p-5 space-y-5 border border-amber-100 dark:border-amber-900/50"},wa={class:"flex items-center gap-2 mb-1"},_a={class:"grid grid-cols-2 gap-4"},$a={class:"flex items-center justify-between w-full"},ka={class:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-2"},Va={class:"flex gap-3"},Na=L({__name:"Edit",props:{dialog:{type:Boolean,default:!1},currentForm:{default:()=>({})},menu:{default:()=>[]},pidOptions:{default:()=>[]}},emits:["update:dialog","refresh"],setup(l,{emit:e}){const t=l,i=e,s=S({get(){return t.dialog},set(b){i("update:dialog",b)}}),n=()=>{s.value=!1},u=Se("formRef"),m=St({ty:ve(),pid:ve()}),c=b=>{const o=[];return b.name||o.push({name:"name",message:"Required"}),(b.ty===0||b.ty===1)&&!b.router&&o.push({name:"router",message:"Required"}),(b.ty===1||b.ty===2)&&(!b.perms||!b.perms.length)&&o.push({name:"perms",message:"Required"}),o},r=Ce({loading:!1,form:{},tyOptions:[{label:"目录",value:0},{label:"菜单",value:1},{label:"权限",value:2}],permOptions:it.map(b=>({value:b,label:b})),isShowOptions:[{label:"显示",value:1},{label:"不显示",value:0}],popoverOpen:!1}),f=b=>{r.form.pid=b,r.popoverOpen=!1},$=lt(),v={0:["id","ty","name","pid","router","icon","sort","is_show"],1:["id","ty","name","pid","router","icon","perms","sort","keepalive","is_show"],2:["id","ty","name","pid","perms"]};async function C(){r.loading=!0;const b=JSON.parse(JSON.stringify(r.form,v[r.form.ty]));b.perms=b.perms?.join(",");const{error:o}=await(b.id?Nt:Dt)(b);o||($.add({title:"操作成功",color:"success"}),i("refresh")),r.loading=!1}return pe(()=>t.dialog,b=>{b&&(r.loading=!1,r.form=t.currentForm)}),(b,o)=>{const p=X,h=yt,V=ft,P=W,N=Pe,j=Zt,U=ht,q=oa,M=ma,H=Vt,w=Ie;return _(),F(w,{open:a(s),"onUpdate:open":o[14]||(o[14]=g=>ue(s)?s.value=g:null),title:l.currentForm.id?"编辑菜单":"新增菜单",dismissible:!1,ui:{content:"sm:max-w-3xl",body:"p-0",footer:"justify-end bg-gray-50 dark:bg-gray-900"}},{body:y(()=>[k("div",ua,[d(H,{ref_key:"formRef",ref:u,schema:a(m),state:a(r).form,validate:c,class:"space-y-6",onSubmit:C},{default:y(()=>[k("div",da,[k("div",ca,[d(p,{name:"i-material-symbols-info-outline",class:"w-5 h-5 text-blue-600 dark:text-blue-400"}),o[15]||(o[15]=k("h4",{class:"font-semibold text-gray-900 dark:text-white"}," 基本信息 ",-1))]),k("div",pa,[d(V,{label:"类型",name:"ty",required:""},{default:y(()=>[d(h,{modelValue:a(r).form.ty,"onUpdate:modelValue":o[0]||(o[0]=g=>a(r).form.ty=g),items:a(r).tyOptions,placeholder:"请选择类型",class:"w-full",size:"lg"},{leading:y(()=>[d(p,{name:"i-material-symbols-category-outline",class:"w-5 h-5 text-gray-400"})]),_:1},8,["modelValue","items"])]),_:1}),d(V,{label:"名称",name:"name",required:""},{default:y(()=>[d(N,{modelValue:a(r).form.name,"onUpdate:modelValue":o[2]||(o[2]=g=>a(r).form.name=g),modelModifiers:{trim:!0},placeholder:"请输入菜单名称",class:"w-full",size:"lg"},{leading:y(()=>[d(p,{name:"i-material-symbols-label-outline",class:"w-5 h-5 text-gray-400"})]),trailing:y(()=>[a(r).form.name?(_(),F(P,{key:0,color:"neutral",variant:"link",size:"sm",icon:"i-lucide-circle-x",onClick:o[1]||(o[1]=g=>a(r).form.name="")})):z("",!0)]),_:1},8,["modelValue"])]),_:1})]),d(V,{label:"上级节点",name:"pid",required:""},{default:y(()=>[d(U,{open:a(r).popoverOpen,"onUpdate:open":o[5]||(o[5]=g=>a(r).popoverOpen=g)},{content:y(()=>[k("div",ba,[d(j,{menu:l.menu,value:a(r).form.pid,onChange:f},null,8,["menu","value"])])]),default:y(()=>[k("div",{onClick:o[4]||(o[4]=g=>a(r).popoverOpen=!0)},[d(h,{modelValue:a(r).form.pid,"onUpdate:modelValue":o[3]||(o[3]=g=>a(r).form.pid=g),items:l.pidOptions,placeholder:"请选择上级节点",class:"w-full pointer-events-none",size:"lg"},{leading:y(()=>[d(p,{name:"i-material-symbols-account-tree",class:"w-5 h-5 text-gray-400"})]),_:1},8,["modelValue","items"])])]),_:1},8,["open"])]),_:1})]),a(r).form.ty!==2?(_(),E("div",ya,[k("div",fa,[d(p,{name:"i-material-symbols-route",class:"w-5 h-5 text-green-600 dark:text-green-400"}),o[16]||(o[16]=k("h4",{class:"font-semibold text-gray-900 dark:text-white"}," 路由配置 ",-1))]),d(V,{label:"节点路由",name:"router",required:""},{default:y(()=>[d(N,{modelValue:a(r).form.router,"onUpdate:modelValue":o[7]||(o[7]=g=>a(r).form.router=g),modelModifiers:{trim:!0},placeholder:"请输入路由路径，如：/system/menu",class:"w-full",size:"lg"},{leading:y(()=>[d(p,{name:"i-material-symbols-link",class:"w-5 h-5 text-gray-400"})]),trailing:y(()=>[a(r).form.router?(_(),F(P,{key:0,color:"neutral",variant:"link",size:"sm",icon:"i-lucide-circle-x",onClick:o[6]||(o[6]=g=>a(r).form.router="")})):z("",!0)]),_:1},8,["modelValue"])]),_:1})])):z("",!0),a(r).form.ty!==0?(_(),E("div",ga,[k("div",va,[d(p,{name:"i-material-symbols-shield-lock-outline",class:"w-5 h-5 text-purple-600 dark:text-purple-400"}),o[17]||(o[17]=k("h4",{class:"font-semibold text-gray-900 dark:text-white"}," 权限配置 ",-1))]),d(V,{label:"权限标识",name:"perms",required:""},{default:y(()=>[k("div",ha,[d(h,{modelValue:a(r).form.perms,"onUpdate:modelValue":o[8]||(o[8]=g=>a(r).form.perms=g),multiple:"",items:a(r).permOptions,placeholder:"请选择权限标识",class:"w-full",size:"lg"},{leading:y(()=>[d(p,{name:"i-material-symbols-key-outline",class:"w-5 h-5 text-gray-400"})]),_:1},8,["modelValue","items"]),a(r).form.perms&&a(r).form.perms.length?(_(),F(P,{key:0,color:"neutral",variant:"link",size:"sm",icon:"i-lucide-circle-x",class:"absolute top-1/2 right-3 -translate-y-1/2",onClick:o[9]||(o[9]=g=>a(r).form.perms=[])})):z("",!0)])]),_:1})])):z("",!0),a(r).form.ty!==2?(_(),E("div",xa,[k("div",wa,[d(p,{name:"i-material-symbols-display-settings-outline",class:"w-5 h-5 text-amber-600 dark:text-amber-400"}),o[18]||(o[18]=k("h4",{class:"font-semibold text-gray-900 dark:text-white"}," 显示设置 ",-1))]),d(V,{label:"菜单图标",name:"icon",description:"选择菜单图标"},{default:y(()=>[d(q,{modelValue:a(r).form.icon,"onUpdate:modelValue":o[10]||(o[10]=g=>a(r).form.icon=g)},null,8,["modelValue"])]),_:1}),k("div",_a,[d(V,{label:"排序",name:"sort"},{default:y(()=>[d(M,{modelValue:a(r).form.sort,"onUpdate:modelValue":o[11]||(o[11]=g=>a(r).form.sort=g),min:0,placeholder:"数字越小越靠前",class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),d(V,{label:"是否显示",name:"is_show"},{default:y(()=>[d(h,{modelValue:a(r).form.is_show,"onUpdate:modelValue":o[12]||(o[12]=g=>a(r).form.is_show=g),items:a(r).isShowOptions,placeholder:"请选择",class:"w-full",size:"lg"},{leading:y(()=>[d(p,{name:"i-material-symbols-visibility-outline",class:"w-5 h-5 text-gray-400"})]),_:1},8,["modelValue","items"])]),_:1})])])):z("",!0)]),_:1},8,["schema","state"])])]),footer:y(()=>[k("div",$a,[k("div",ka,[d(p,{name:"i-material-symbols-info-outline",class:"w-4 h-4"}),k("span",null,Fe(l.currentForm.id?"修改后将更新菜单配置":"确认后将创建新的菜单项"),1)]),k("div",Va,[d(P,{label:"取消",color:"neutral",variant:"outline",size:"lg",onClick:n},{leading:y(()=>[d(p,{name:"i-material-symbols-close"})]),_:1}),d(P,{loading:a(r).loading,label:"确认保存",variant:"solid",size:"lg",onClick:o[13]||(o[13]=g=>a(u)?.submit())},{leading:y(()=>[d(p,{name:"i-material-symbols-check"})]),_:1},8,["loading"])])])]),_:1},8,["open","title"])}}}),Da=Object.assign(Na,{__name:"SystemMenuEdit"}),Fa={0:["目录","blue"],1:["菜单","green"],2:["权限","purple"]},qa=[{id:"expand",meta:{class:{th:"w-[140px]",td:"w-[140px]"}},cell:({row:l})=>l.original.children?D(W,{color:"neutral",variant:"ghost",icon:"i-lucide-chevron-down",square:!0,"aria-label":"Expand",style:`margin-left:${l.original.level*32}px`,ui:{leadingIcon:["transition-transform",l.getIsExpanded()?"duration-200 rotate-180":""]},onClick:()=>l.toggleExpanded()}):""},{accessorKey:"name",header:()=>D(W,{color:"neutral",variant:"ghost",label:"名称",class:"-mx-2.5 hover:bg-transparent focus:bg-transparent data-[state=open]:bg-transparent text-(--ui-text-highlighted) font-semibold"}),meta:{class:{th:"w-[200px]",td:"w-[200px]"}},cell:({row:l})=>{const e=l.original.level||0,t=l.original.ty,i={0:"i-material-symbols-folder-outline",1:"i-material-symbols-description-outline",2:"i-material-symbols-key-outline"};return D("div",{class:"flex items-center gap-2",style:`padding-left: ${e*24}px`},[D(X,{name:i[t]||"i-material-symbols-circle-outline",class:`w-4 h-4 ${t===0?"text-blue-500":t===1?"text-green-500":"text-purple-500"}`}),D("span",{class:`font-medium ${e===0?"text-gray-900 dark:text-white":e===1?"text-gray-700 dark:text-gray-200":"text-gray-600 dark:text-gray-300"}`},l.original.name)])}},{accessorKey:"ty",header:"类型",meta:{class:{th:"w-[80px]",td:"w-[80px]"}},cell:({row:l})=>{const[e,t]=Fa[l.original.ty]||["未知","gray"];return D(he,{variant:"subtle",color:t},()=>e)}},{accessorKey:"router",header:"节点路由",meta:{class:{th:"w-[200px]",td:"w-[200px]"}},cell:({row:l})=>{const e=l.original.router;return e?D("span",{class:"text-sm text-gray-600 dark:text-gray-300"},e):D("span",{class:"text-gray-400"},"-")}},{accessorKey:"icon",header:"图标",meta:{class:{th:"w-[80px]",td:"w-[80px]"}},cell:({row:l})=>l.original.icon?D(X,{name:l.original.icon,class:"w-5 h-5 text-gray-600 dark:text-gray-400"}):D("span",{class:"text-gray-400"},"-")},{accessorKey:"perms",header:"权限",cell:({row:l})=>{const e=l.original.perms;return e?D("span",{class:"text-sm text-gray-600 dark:text-gray-300"},e):D("span",{class:"text-gray-400"},"-")}},{accessorKey:"is_show",header:"是否显示",meta:{class:{th:"w-[100px]",td:"w-[100px]"}},cell:({row:l})=>{const e=l.original.is_show===1;return D(he,{variant:"subtle",color:e?"success":"gray"},()=>e?"显示":"隐藏")}}],Sa={key:0,class:"absolute top-0 left-0 right-0 h-(--ui-header-height) flex items-center justify-between border-b border-(--ui-border) px-4 sm:px-6 bg-(--ui-bg)"},Ca={class:"flex items-center gap-4"},ri=L({name:"SystemMenu",__name:"menu",setup(l){const t=$t(kt).smaller("lg"),i=B(),s=W,n=Ct(),{hasPermission:u}=st(),m=Ce({isDialog:!1,currentForm:{},menu:[],pidOptions:[]}),c=o=>o.sort((p,h)=>(p.sort?Number(p.sort):0)-(h.sort?Number(h.sort):0)).map(p=>(p.children&&c(p.children),p)),r=async()=>{const{data:o}=await Ft();return o?(m.menu=[{value:0,label:"一级菜单",children:c(ge(Q(o.list).filter(p=>p.ty!==2),null))}],m.pidOptions=[{value:0,label:"一级菜单"},...Q(o.list).map(p=>({value:p.id,label:p.name}))],{error:null,data:{list:c(ge(Q(o.list),null))}}):{error:null,data:{list:[]}}},f=async o=>{if(m.isDialog=!0,o){const p=Q(o);p.pid=p.pid??0,p.perms=p.perms?p.perms.split(","):[],m.currentForm=p}else m.currentForm={ty:0,pid:0,sort:0,keepalive:1,is_show:1}},$=async()=>{m.isDialog=!1,i.value.reload()},v=async o=>{const{error:p}=await qt({id:o.id});p||i.value.reload()};function C(o){return[{label:"编辑",icon:"material-symbols:edit-square-outline",disabled:!u("rbac-menu-edit"),onSelect(){f(o.original)}},{type:"separator"},{label:"删除",icon:"material-symbols:contract-delete-outline-rounded",color:"error",disabled:!u("rbac-menu-remove"),onSelect(){n.open({color:"error",title:"删除数据",description:"您确定要删除吗？",onPositiveClick(){v(o.original)}})}}]}const b=[...qa,{id:"actions",meta:{class:{th:"w-[100px]",td:"w-[100px]"}},cell:({row:o})=>D("div",{class:"text-right"},D(Oe,{content:{align:"end"},items:C(o)},()=>D(W,{icon:"i-lucide-ellipsis-vertical",color:"neutral",variant:"ghost",class:"ml-auto"})))}];return(o,p)=>{const h=mt,V=nt,P=ut,N=ct,j=dt,U=Da,q=rt("permission");return _(),E(qe,null,[d(j,{ui:{body:"pb-[12px]! gap-0!"}},ot({body:y(()=>[a(t)?z("",!0):(_(),E("div",Sa,[k("div",Ca,[d(h),d(P)]),fe((_(),E("div",null,[d(a(s),{label:"新增",icon:"i-lucide-plus",onClick:p[1]||(p[1]=M=>f(null))})])),[[q,"rbac-menu-add"]])])),d(N,{ref_key:"tableRef",ref:i,"data-request":r,columns:b,"default-page-size":100,"scroll-x":"min-w-[1200px]"},null,512)]),_:2},[a(t)?{name:"header",fn:y(()=>[d(V,{title:"菜单管理"},{leading:y(()=>[d(h)]),right:y(()=>[fe((_(),E("div",null,[d(a(s),{label:"新增",icon:"i-lucide-plus",onClick:p[0]||(p[0]=M=>f(null))})])),[[q,"rbac-menu-add"]])]),_:1})]),key:"0"}:void 0]),1024),d(U,{dialog:a(m).isDialog,"onUpdate:dialog":p[2]||(p[2]=M=>a(m).isDialog=M),"current-form":a(m).currentForm,menu:a(m).menu,"pid-options":a(m).pidOptions,onRefresh:$},null,8,["dialog","current-form","menu","pid-options"])],64)}}});export{ri as default};
