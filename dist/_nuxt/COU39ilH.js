import{_ as Ue}from"./1OJ4jHSB.js";import{A as je,B as Te,C as re,D as De,E as We,F as Le,c as Ae,P as te,f as ie,G as oe,e as Ke,g as Ge,_ as j,a as X,j as Ye,u as He,h as Je,i as Ze,H as Qe,t as fe,I as Xe,w as et,J as tt,K as ye}from"./DiI9-bkE.js";import{_ as it}from"./Odvr87Pg.js";import{_ as at}from"./CuFgEFCp.js";import{c as lt,s as st,_ as rt}from"./DkYr1hfb.js";import{_ as ot}from"./BdKneTYw.js";import{_ as Ne}from"./oJBVUttf.js";import{_ as nt}from"./CCHrFwgR.js";import{_ as mt,a as ut}from"./y-87kxSS.js";import{h as M,c as C,p as T,t as dt,z as $,a1 as F,a2 as b,B as Z,u as i,R as I,Y as U,a8 as B,j as Fe,w as pe,an as G,a7 as c,A as R,Q as V,i as ue,a6 as qe,W as Se,ah as ct,ae as de,ai as Ce,b as pt,r as Pe,E as N,aq as bt,ar as ft}from"./Cp_GvCOL.js";import{_ as Ie}from"./8gEztUrL.js";import{u as yt}from"./DZaB2s8a.js";import{V as gt}from"./_eNQqsN0.js";import{b as vt,r as ht}from"./BlLzDdHJ.js";import{_ as xt}from"./9B_i7pfW.js";import{u as wt,c as _t,g as $t,d as Vt}from"./YeUkikDc.js";import{o as kt,n as ge}from"./CgOwER5m.js";import{_ as ve}from"./Bml5z8l2.js";import{u as Dt}from"./BCMcqMGM.js";import{c as Q}from"./B3KMLFeu.js";import"./D7PB4JkZ.js";import"./C-fFc4Sm.js";import"./DnWsfCtc.js";import"./C6Y-ieo6.js";import"./De6cJ90F.js";import"./BrwH2_O0.js";import"./7ga_NNx6.js";import"./BHtpJmxp.js";import"./CM1DIlR0.js";import"./K6pfE6CB.js";import"./B9BvCEkO.js";import"./DxT_AjaP.js";import"./DaMwIZ4f.js";import"./BnfZ4xmv.js";import"./CangPKqO.js";import"./C8Jf-TuN.js";import"./DVCf4JVd.js";import"./C3gvogBg.js";import"./B1GmTriL.js";import"./Baq49nZQ.js";function Nt(s){const e=je({locale:M("en")});return C(()=>s?.value||e.locale?.value||"en")}let ne=new Map,ce=!1;try{ce=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let ee=!1;try{ee=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const ze={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class Ee{format(e){let t="";if(!ce&&this.options.signDisplay!=null?t=qt(this.numberFormatter,this.options.signDisplay,e):t=this.numberFormatter.format(e),this.options.style==="unit"&&!ee){var a;let{unit:l,unitDisplay:n="short",locale:u}=this.resolvedOptions();if(!l)return t;let p=(a=ze[l])===null||a===void 0?void 0:a[n];t+=p[u]||p.default}return t}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,t){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(t)}`}formatRangeToParts(e,t){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let a=this.numberFormatter.formatToParts(e),l=this.numberFormatter.formatToParts(t);return[...a.map(n=>({...n,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...l.map(n=>({...n,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!ce&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!ee&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,t={}){this.numberFormatter=Ft(e,t),this.options=t}}function Ft(s,e={}){let{numberingSystem:t}=e;if(t&&s.includes("-nu-")&&(s.includes("-u-")||(s+="-u-"),s+=`-nu-${t}`),e.style==="unit"&&!ee){var a;let{unit:u,unitDisplay:p="short"}=e;if(!u)throw new Error('unit option must be provided with style: "unit"');if(!(!((a=ze[u])===null||a===void 0)&&a[p]))throw new Error(`Unsupported unit ${u} with unitDisplay = ${p}`);e={...e,style:"decimal"}}let l=s+(e?Object.entries(e).sort((u,p)=>u[0]<p[0]?-1:1).join():"");if(ne.has(l))return ne.get(l);let n=new Intl.NumberFormat(s,e);return ne.set(l,n),n}function qt(s,e,t){if(e==="auto")return s.format(t);if(e==="never")return s.format(Math.abs(t));{let a=!1;if(e==="always"?a=t>0||Object.is(t,0):e==="exceptZero"&&(Object.is(t,-0)||Object.is(t,0)?t=Math.abs(t):a=t>0),a){let l=s.format(-t),n=s.format(t),u=l.replace(n,"").replace(/\u200e|\u061C/,"");return[...u].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),l.replace(n,"!!!").replace(u,"+").replace("!!!",n)}else return s.format(t)}}const St=new RegExp("^.*\\(.*\\).*$"),Ct=["latn","arab","hanidec","deva","beng","fullwide"];class Re{parse(e){return me(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,t,a){return me(this.locale,this.options,e).isValidPartialNumber(e,t,a)}getNumberingSystem(e){return me(this.locale,this.options,e).options.numberingSystem}constructor(e,t={}){this.locale=e,this.options=t}}const he=new Map;function me(s,e,t){let a=xe(s,e);if(!s.includes("-nu-")&&!a.isValidPartialNumber(t)){for(let l of Ct)if(l!==a.options.numberingSystem){let n=xe(s+(s.includes("-u-")?"-nu-":"-u-nu-")+l,e);if(n.isValidPartialNumber(t))return n}}return a}function xe(s,e){let t=s+(e?Object.entries(e).sort((l,n)=>l[0]<n[0]?-1:1).join():""),a=he.get(t);return a||(a=new Pt(s,e),he.set(t,a)),a}class Pt{parse(e){let t=this.sanitize(e);if(this.symbols.group&&(t=J(t,this.symbols.group,"")),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(t=t.replace(this.symbols.minusSign,"-")),t=t.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let u=t.indexOf("-");t=t.replace("-",""),t=t.replace("+","");let p=t.indexOf(".");p===-1&&(p=t.length),t=t.replace(".",""),p-2===0?t=`0.${t}`:p-2===-1?t=`0.0${t}`:p-2===-2?t="0.00":t=`${t.slice(0,p-2)}.${t.slice(p-2)}`,u>-1&&(t=`-${t}`)}let a=t?+t:NaN;if(isNaN(a))return NaN;if(this.options.style==="percent"){var l,n;let u={...this.options,style:"decimal",minimumFractionDigits:Math.min(((l=this.options.minimumFractionDigits)!==null&&l!==void 0?l:0)+2,20),maximumFractionDigits:Math.min(((n=this.options.maximumFractionDigits)!==null&&n!==void 0?n:0)+2,20)};return new Re(this.locale,u).parse(new Ee(this.locale,u).format(a))}return this.options.currencySign==="accounting"&&St.test(e)&&(a=-1*a),a}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("،",this.symbols.decimal)),this.symbols.group&&(e=J(e,".",this.symbols.group))),this.symbols.group==="’"&&e.includes("'")&&(e=J(e,"'",this.symbols.group)),this.options.locale==="fr-FR"&&this.symbols.group&&(e=J(e," ",this.symbols.group),e=J(e,/\u00A0/g,this.symbols.group)),e}isValidPartialNumber(e,t=-1/0,a=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&t<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&a>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=J(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,t={}){this.locale=e,t.roundingIncrement!==1&&t.roundingIncrement!=null&&(t.maximumFractionDigits==null&&t.minimumFractionDigits==null?(t.maximumFractionDigits=0,t.minimumFractionDigits=0):t.maximumFractionDigits==null?t.maximumFractionDigits=t.minimumFractionDigits:t.minimumFractionDigits==null&&(t.minimumFractionDigits=t.maximumFractionDigits)),this.formatter=new Intl.NumberFormat(e,t),this.options=this.formatter.resolvedOptions(),this.symbols=zt(e,this.formatter,this.options,t);var a,l;this.options.style==="percent"&&(((a=this.options.minimumFractionDigits)!==null&&a!==void 0?a:0)>18||((l=this.options.maximumFractionDigits)!==null&&l!==void 0?l:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const we=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),It=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function zt(s,e,t,a){var l,n,u,p;let d=new Intl.NumberFormat(s,{...t,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),r=d.formatToParts(-10000.111),y=d.formatToParts(10000.111),w=It.map(x=>d.formatToParts(x));var g;let h=(g=(l=r.find(x=>x.type==="minusSign"))===null||l===void 0?void 0:l.value)!==null&&g!==void 0?g:"-",m=(n=y.find(x=>x.type==="plusSign"))===null||n===void 0?void 0:n.value;!m&&(a?.signDisplay==="exceptZero"||a?.signDisplay==="always")&&(m="+");let k=(u=new Intl.NumberFormat(s,{...t,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(x=>x.type==="decimal"))===null||u===void 0?void 0:u.value,_=(p=r.find(x=>x.type==="group"))===null||p===void 0?void 0:p.value,D=r.filter(x=>!we.has(x.type)).map(x=>_e(x.value)),q=w.flatMap(x=>x.filter(f=>!we.has(f.type)).map(f=>_e(f.value))),S=[...new Set([...D,...q])].sort((x,f)=>f.length-x.length),W=S.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${S.join("|")}|[\\p{White_Space}]`,"gu"),O=[...new Intl.NumberFormat(t.locale,{useGrouping:!1}).format(9876543210)].reverse(),z=new Map(O.map((x,f)=>[x,f])),L=new RegExp(`[${O.join("")}]`,"g");return{minusSign:h,plusSign:m,decimal:k,group:_,literals:W,numeral:L,index:x=>String(z.get(x))}}function J(s,e,t){return s.replaceAll?s.replaceAll(e,t):s.split(e).join(t)}function _e(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Me(s){const{disabled:e}=s,t=M(),a=Le(),l=()=>window.clearTimeout(t.value),n=g=>{l(),!e.value&&(a.trigger(),t.value=window.setTimeout(()=>{n(60)},g))},u=()=>{n(400)},p=()=>{l()},d=M(!1),r=C(()=>We(s.target)),y=g=>{g.button!==0||d.value||(g.preventDefault(),d.value=!0,u())},w=()=>{d.value=!1,p()};return Te&&(re(r||window,"pointerdown",y),re(window,"pointerup",w),re(window,"pointercancel",w)),{isPressed:d,onTrigger:a.on}}function $e(s,e=M({})){return De(()=>new Ee(s.value,e.value))}function Et(s,e=M({})){return De(()=>new Re(s.value,e.value))}function Ve(s,e,t){let a=s==="+"?e+t:e-t;if(e%1!==0||t%1!==0){const l=e.toString().split("."),n=t.toString().split("."),u=l[1]&&l[1].length||0,p=n[1]&&n[1].length||0,d=10**Math.max(u,p);e=Math.round(e*d),t=Math.round(t*d),a=s==="+"?e+t:e-t,a/=d}return a}const[be,Rt]=Ke("NumberFieldRoot");var Mt=T({inheritAttrs:!1,__name:"NumberFieldRoot",props:{defaultValue:{type:Number,required:!1,default:void 0},modelValue:{type:[Number,null],required:!1},min:{type:Number,required:!1},max:{type:Number,required:!1},step:{type:Number,required:!1,default:1},stepSnapping:{type:Boolean,required:!1,default:!0},formatOptions:{type:null,required:!1},locale:{type:String,required:!1},disabled:{type:Boolean,required:!1},readonly:{type:Boolean,required:!1},disableWheelChange:{type:Boolean,required:!1},invertWheelChange:{type:Boolean,required:!1},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(s,{emit:e}){const t=s,a=e,{disabled:l,readonly:n,disableWheelChange:u,invertWheelChange:p,min:d,max:r,step:y,stepSnapping:w,formatOptions:g,id:h,locale:m}=dt(t),o=Ae(t,"modelValue",a,{defaultValue:t.defaultValue,passive:t.modelValue===void 0}),{primitiveElement:k,currentElement:_}=ie(),D=Nt(m),q=yt(_),S=M(),W=C(()=>!oe(o.value)&&(K(o.value)===d.value||d.value&&!isNaN(o.value)?Ve("-",o.value,y.value)<d.value:!1)),O=C(()=>!oe(o.value)&&(K(o.value)===r.value||r.value&&!isNaN(o.value)?Ve("+",o.value,y.value)>r.value:!1));function z(v,P=1){if(S.value?.focus(),t.disabled||t.readonly)return;const se=H.parse(S.value?.value??"");isNaN(se)?o.value=d.value??0:v==="increase"?o.value=K(se+(y.value??1)*P):o.value=K(se-(y.value??1)*P)}function L(v=1){z("increase",v)}function Y(v=1){z("decrease",v)}function x(v){v==="min"&&d.value!==void 0?o.value=K(d.value):v==="max"&&r.value!==void 0&&(o.value=K(r.value))}const f=$e(D,g),H=Et(D,g),ae=C(()=>f.resolvedOptions().maximumFractionDigits>0?"decimal":"numeric"),E=$e(D,g),A=C(()=>oe(o.value)||isNaN(o.value)?"":E.format(o.value));function Be(v){return H.isValidPartialNumber(v,d.value,r.value)}function le(v){S.value&&(S.value.value=v)}function K(v){let P;return y.value===void 0||isNaN(y.value)||!w.value?P=lt(v,d.value,r.value):P=st(v,d.value,r.value,y.value),P=H.parse(f.format(P)),P}function Oe(v){const P=H.parse(v);return o.value=isNaN(P)?void 0:K(P),v.length?(isNaN(P),le(A.value)):le(v)}return Rt({modelValue:o,handleDecrease:Y,handleIncrease:L,handleMinMaxValue:x,inputMode:ae,inputEl:S,onInputElement:v=>S.value=v,textValue:A,validate:Be,applyInputValue:Oe,disabled:l,readonly:n,disableWheelChange:u,invertWheelChange:p,max:r,min:d,isDecreaseDisabled:W,isIncreaseDisabled:O,id:h}),(v,P)=>($(),F(i(te),U(v.$attrs,{ref_key:"primitiveElement",ref:k,role:"group",as:v.as,"as-child":v.asChild,"data-disabled":i(l)?"":void 0,"data-readonly":i(n)?"":void 0}),{default:b(()=>[Z(v.$slots,"default",{modelValue:i(o),textValue:A.value}),i(q)&&v.name?($(),F(i(gt),{key:0,type:"text",value:i(o),name:v.name,disabled:i(l),readonly:i(n),required:v.required},null,8,["value","name","disabled","readonly","required"])):I("v-if",!0)]),_:3},16,["as","as-child","data-disabled","data-readonly"]))}}),Bt=Mt,Ot=T({__name:"NumberFieldDecrement",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(s){const e=s,t=be(),a=C(()=>t.disabled?.value||t.readonly.value||e.disabled||t.isDecreaseDisabled.value),{primitiveElement:l,currentElement:n}=ie(),{isPressed:u,onTrigger:p}=Me({target:n,disabled:a});return p(()=>{t.handleDecrease()}),(d,r)=>($(),F(i(te),U(e,{ref_key:"primitiveElement",ref:l,tabindex:"-1","aria-label":"Decrease",type:d.as==="button"?"button":void 0,style:{userSelect:i(u)?"none":void 0},disabled:a.value?"":void 0,"data-disabled":a.value?"":void 0,"data-pressed":i(u)?"true":void 0,onContextmenu:r[0]||(r[0]=B(()=>{},["prevent"]))}),{default:b(()=>[Z(d.$slots,"default")]),_:3},16,["type","style","disabled","data-disabled","data-pressed"]))}}),Ut=Ot,jt=T({__name:"NumberFieldIncrement",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(s){const e=s,t=be(),a=C(()=>t.disabled?.value||t.readonly.value||e.disabled||t.isIncreaseDisabled.value),{primitiveElement:l,currentElement:n}=ie(),{isPressed:u,onTrigger:p}=Me({target:n,disabled:a});return p(()=>{t.handleIncrease()}),(d,r)=>($(),F(i(te),U(e,{ref_key:"primitiveElement",ref:l,tabindex:"-1","aria-label":"Increase",type:d.as==="button"?"button":void 0,style:{userSelect:i(u)?"none":void 0},disabled:a.value?"":void 0,"data-disabled":a.value?"":void 0,"data-pressed":i(u)?"true":void 0,onContextmenu:r[0]||(r[0]=B(()=>{},["prevent"]))}),{default:b(()=>[Z(d.$slots,"default")]),_:3},16,["type","style","disabled","data-disabled","data-pressed"]))}}),Tt=jt,Wt=T({__name:"NumberFieldInput",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},setup(s){const e=s,{primitiveElement:t,currentElement:a}=ie(),l=be();function n(d){l.disableWheelChange.value||d.target===Ge()&&(Math.abs(d.deltaY)<=Math.abs(d.deltaX)||(d.preventDefault(),d.deltaY>0?l.invertWheelChange.value?l.handleDecrease():l.handleIncrease():d.deltaY<0&&(l.invertWheelChange.value?l.handleIncrease():l.handleDecrease())))}Fe(()=>{l.onInputElement(a.value)});const u=M(l.textValue.value);pe(()=>l.textValue.value,()=>{u.value=l.textValue.value},{immediate:!0,deep:!0});function p(){requestAnimationFrame(()=>{u.value=l.textValue.value})}return(d,r)=>($(),F(i(te),U(e,{id:i(l).id.value,ref_key:"primitiveElement",ref:t,value:u.value,role:"spinbutton",type:"text",tabindex:"0",inputmode:i(l).inputMode.value,disabled:i(l).disabled.value?"":void 0,"data-disabled":i(l).disabled.value?"":void 0,readonly:i(l).readonly.value?"":void 0,"data-readonly":i(l).readonly.value?"":void 0,autocomplete:"off",autocorrect:"off",spellcheck:"false","aria-roledescription":"Number field","aria-valuenow":i(l).modelValue.value,"aria-valuemin":i(l).min.value,"aria-valuemax":i(l).max.value,onKeydown:[r[0]||(r[0]=G(B(y=>i(l).handleIncrease(),["prevent"]),["up"])),r[1]||(r[1]=G(B(y=>i(l).handleDecrease(),["prevent"]),["down"])),r[2]||(r[2]=G(B(y=>i(l).handleIncrease(10),["prevent"]),["page-up"])),r[3]||(r[3]=G(B(y=>i(l).handleDecrease(10),["prevent"]),["page-down"])),r[4]||(r[4]=G(B(y=>i(l).handleMinMaxValue("min"),["prevent"]),["home"])),r[5]||(r[5]=G(B(y=>i(l).handleMinMaxValue("max"),["prevent"]),["end"])),r[8]||(r[8]=G(y=>i(l).applyInputValue(y.target?.value),["enter"]))],onWheel:n,onBeforeinput:r[6]||(r[6]=y=>{const w=y.target;let g=w.value.slice(0,w.selectionStart??void 0)+(y.data??"")+w.value.slice(w.selectionEnd??void 0);i(l).validate(g)||y.preventDefault()}),onInput:r[7]||(r[7]=y=>{const w=y.target;u.value=w.value}),onChange:p,onBlur:r[9]||(r[9]=y=>i(l).applyInputValue(y.target?.value))}),{default:b(()=>[Z(d.$slots,"default")]),_:3},16,["id","value","inputmode","disabled","data-disabled","readonly","data-readonly","aria-valuenow","aria-valuemin","aria-valuemax"]))}}),Lt=Wt;const At=T({__name:"RadioTree",props:{menu:{default:[]},value:{default:0}},emits:["change"],setup(s,{emit:e}){const t=e,a=(l,n)=>{n&&t("change",l.value)};return(l,n)=>{const u=nt,p=mt;return $(),F(p,{items:s.menu,orientation:"vertical",ui:{item:"mb-1",linkLeadingIcon:"text-(--ui-primary)",linkLabel:"text-(--ui-primary)"}},{"item-leading":b(({item:d})=>[c(u,{"default-value":d.value===s.value,"onUpdate:modelValue":r=>a(d,r),onClick:n[0]||(n[0]=B(()=>{},["stop"]))},null,8,["default-value","onUpdate:modelValue"])]),_:1},8,["items"])}}}),Kt=Object.assign(At,{__name:"RadioTree"}),Gt={class:"w-full"},Yt={class:"flex gap-2"},Ht={class:"flex flex-col gap-4"},Jt={class:"grid grid-cols-8 gap-2 max-h-[400px] overflow-y-auto p-2"},Zt=["title","onClick"],Qt={key:0,class:"text-center py-8 text-gray-500"},Xt={class:"flex justify-between items-center w-full"},ei={class:"text-sm text-gray-500"},ti=T({__name:"IconPicker",props:{modelValue:{default:""}},emits:["update:modelValue"],setup(s,{emit:e}){const t=s,a=e,l=M(!1),n=M(""),u=M(t.modelValue),p=["i-material-symbols-home","i-material-symbols-home-outline","i-material-symbols-dashboard","i-material-symbols-dashboard-outline","i-material-symbols-menu","i-material-symbols-menu-open","i-material-symbols-apps","i-material-symbols-grid-view","i-material-symbols-view-module","i-material-symbols-view-list","i-material-symbols-view-agenda","i-material-symbols-person","i-material-symbols-person-outline","i-material-symbols-account-circle","i-material-symbols-account-circle-outline","i-material-symbols-group","i-material-symbols-group-outline","i-material-symbols-supervisor-account","i-material-symbols-badge","i-material-symbols-badge-outline","i-material-symbols-settings","i-material-symbols-settings-outline","i-material-symbols-tune","i-material-symbols-build","i-material-symbols-build-circle","i-material-symbols-construction","i-material-symbols-engineering","i-material-symbols-search","i-material-symbols-search-outline","i-material-symbols-filter-list","i-material-symbols-filter-alt","i-material-symbols-sort","i-material-symbols-zoom-in","i-material-symbols-zoom-out","i-material-symbols-edit","i-material-symbols-edit-outline","i-material-symbols-edit-square","i-material-symbols-edit-square-outline","i-material-symbols-delete","i-material-symbols-delete-outline","i-material-symbols-delete-forever","i-material-symbols-add","i-material-symbols-add-circle","i-material-symbols-add-circle-outline","i-material-symbols-remove","i-material-symbols-remove-circle","i-material-symbols-remove-circle-outline","i-material-symbols-close","i-material-symbols-cancel","i-material-symbols-cancel-outline","i-material-symbols-save","i-material-symbols-save-outline","i-material-symbols-save-as","i-material-symbols-upload","i-material-symbols-upload-file","i-material-symbols-download","i-material-symbols-cloud-upload","i-material-symbols-cloud-download","i-material-symbols-file-copy","i-material-symbols-content-copy","i-material-symbols-content-paste","i-material-symbols-folder","i-material-symbols-folder-outline","i-material-symbols-folder-open","i-material-symbols-folder-special","i-material-symbols-description","i-material-symbols-description-outline","i-material-symbols-insert-drive-file","i-material-symbols-note","i-material-symbols-article","i-material-symbols-draft","i-material-symbols-image","i-material-symbols-image-outline","i-material-symbols-photo","i-material-symbols-photo-camera","i-material-symbols-camera-alt","i-material-symbols-videocam","i-material-symbols-video-library","i-material-symbols-play-circle","i-material-symbols-play-arrow","i-material-symbols-pause","i-material-symbols-pause-circle","i-material-symbols-stop","i-material-symbols-stop-circle","i-material-symbols-volume-up","i-material-symbols-volume-down","i-material-symbols-volume-off","i-material-symbols-volume-mute","i-material-symbols-music-note","i-material-symbols-audiotrack","i-material-symbols-headphones","i-material-symbols-mic","i-material-symbols-mic-off","i-material-symbols-mail","i-material-symbols-mail-outline","i-material-symbols-email","i-material-symbols-drafts","i-material-symbols-send","i-material-symbols-chat","i-material-symbols-chat-outline","i-material-symbols-forum","i-material-symbols-message","i-material-symbols-comment","i-material-symbols-phone","i-material-symbols-call","i-material-symbols-smartphone","i-material-symbols-notifications","i-material-symbols-notifications-outline","i-material-symbols-notifications-active","i-material-symbols-notifications-off","i-material-symbols-alarm","i-material-symbols-alarm-on","i-material-symbols-alarm-add","i-material-symbols-schedule","i-material-symbols-event","i-material-symbols-event-note","i-material-symbols-calendar-today","i-material-symbols-calendar-month","i-material-symbols-star","i-material-symbols-star-outline","i-material-symbols-star-half","i-material-symbols-favorite","i-material-symbols-favorite-outline","i-material-symbols-bookmark","i-material-symbols-bookmark-outline","i-material-symbols-bookmark-added","i-material-symbols-flag","i-material-symbols-flag-outline","i-material-symbols-label","i-material-symbols-label-outline","i-material-symbols-tag","i-material-symbols-lock","i-material-symbols-lock-outline","i-material-symbols-lock-open","i-material-symbols-security","i-material-symbols-shield","i-material-symbols-verified","i-material-symbols-verified-user","i-material-symbols-key","i-material-symbols-vpn-key","i-material-symbols-fingerprint","i-material-symbols-visibility","i-material-symbols-visibility-outline","i-material-symbols-visibility-off","i-material-symbols-remove-red-eye","i-material-symbols-preview","i-material-symbols-shopping-cart","i-material-symbols-shopping-cart-outline","i-material-symbols-shopping-bag","i-material-symbols-store","i-material-symbols-storefront","i-material-symbols-credit-card","i-material-symbols-payment","i-material-symbols-wallet","i-material-symbols-receipt","i-material-symbols-receipt-long","i-material-symbols-attach-money","i-material-symbols-monetization-on","i-material-symbols-currency-yuan","i-material-symbols-currency-exchange","i-material-symbols-savings","i-material-symbols-account-balance","i-material-symbols-account-balance-wallet","i-material-symbols-trending-up","i-material-symbols-trending-down","i-material-symbols-trending-flat","i-material-symbols-analytics","i-material-symbols-analytics-outline","i-material-symbols-bar-chart","i-material-symbols-pie-chart","i-material-symbols-donut-large","i-material-symbols-leaderboard","i-material-symbols-insights","i-material-symbols-query-stats","i-material-symbols-data-usage","i-material-symbols-location-on","i-material-symbols-location-off","i-material-symbols-place","i-material-symbols-pin-drop","i-material-symbols-map","i-material-symbols-explore","i-material-symbols-navigation","i-material-symbols-directions","i-material-symbols-access-time","i-material-symbols-timer","i-material-symbols-hourglass-empty","i-material-symbols-history","i-material-symbols-update","i-material-symbols-restore","i-material-symbols-wb-sunny","i-material-symbols-nightlight","i-material-symbols-cloud","i-material-symbols-water-drop","i-material-symbols-air","i-material-symbols-thunderstorm","i-material-symbols-wifi","i-material-symbols-wifi-off","i-material-symbols-signal-cellular-alt","i-material-symbols-bluetooth","i-material-symbols-bluetooth-disabled","i-material-symbols-language","i-material-symbols-public","i-material-symbols-share","i-material-symbols-link","i-material-symbols-link-off","i-material-symbols-computer","i-material-symbols-laptop","i-material-symbols-tablet","i-material-symbols-phone-android","i-material-symbols-phone-iphone","i-material-symbols-watch","i-material-symbols-tv","i-material-symbols-headset","i-material-symbols-keyboard","i-material-symbols-mouse","i-material-symbols-battery-full","i-material-symbols-battery-charging-full","i-material-symbols-power","i-material-symbols-print","i-material-symbols-code","i-material-symbols-code-blocks","i-material-symbols-terminal","i-material-symbols-database","i-material-symbols-storage","i-material-symbols-api","i-material-symbols-bug-report","i-material-symbols-integration-instructions","i-material-symbols-check","i-material-symbols-check-circle","i-material-symbols-check-circle-outline","i-material-symbols-done","i-material-symbols-done-all","i-material-symbols-error","i-material-symbols-error-outline","i-material-symbols-warning","i-material-symbols-warning-outline","i-material-symbols-info","i-material-symbols-info-outline","i-material-symbols-help","i-material-symbols-help-outline","i-material-symbols-priority-high","i-material-symbols-new-releases","i-material-symbols-arrow-upward","i-material-symbols-arrow-downward","i-material-symbols-arrow-back","i-material-symbols-arrow-forward","i-material-symbols-arrow-back-ios","i-material-symbols-arrow-forward-ios","i-material-symbols-expand-more","i-material-symbols-expand-less","i-material-symbols-chevron-left","i-material-symbols-chevron-right","i-material-symbols-unfold-more","i-material-symbols-unfold-less","i-material-symbols-first-page","i-material-symbols-last-page","i-material-symbols-refresh","i-material-symbols-sync","i-material-symbols-sync-alt","i-material-symbols-cached","i-material-symbols-swap-horiz","i-material-symbols-swap-vert","i-material-symbols-fullscreen","i-material-symbols-fullscreen-exit","i-material-symbols-open-in-new","i-material-symbols-open-in-full","i-material-symbols-launch","i-material-symbols-lightbulb","i-material-symbols-lightbulb-outline","i-material-symbols-tips-and-updates","i-material-symbols-psychology","i-material-symbols-emoji-objects","i-material-symbols-gift","i-material-symbols-celebration","i-material-symbols-local-activity","i-material-symbols-local-offer","i-material-symbols-loyalty"],d=C(()=>n.value?p.filter(w=>w.toLowerCase().includes(n.value.toLowerCase())):p),r=w=>{u.value=w,a("update:modelValue",w),l.value=!1},y=()=>{u.value="",a("update:modelValue","")};return pe(()=>t.modelValue,w=>{u.value=w}),(w,g)=>{const h=X,m=j,o=Ne,k=Ie;return $(),R("div",Gt,[V("div",Yt,[c(o,{"model-value":i(u),placeholder:"选择图标",readonly:"",class:"flex-1 cursor-pointer",onClick:g[0]||(g[0]=_=>l.value=!0)},{leading:b(()=>[i(u)?($(),F(h,{key:0,name:i(u),class:"w-5 h-5"},null,8,["name"])):($(),F(h,{key:1,name:"i-lucide-search",class:"w-5 h-5 text-gray-400"}))]),trailing:b(()=>[i(u)?($(),F(m,{key:0,color:"neutral",variant:"link",size:"sm",icon:"i-lucide-circle-x",onClick:B(y,["stop"])})):I("",!0)]),_:1},8,["model-value"]),c(m,{icon:"i-lucide-gallery-horizontal",color:"neutral",variant:"outline",onClick:g[1]||(g[1]=_=>l.value=!0)})]),c(k,{open:i(l),"onUpdate:open":g[5]||(g[5]=_=>ue(l)?l.value=_:null),title:"选择图标"},{body:b(()=>[V("div",Ht,[c(o,{modelValue:i(n),"onUpdate:modelValue":g[3]||(g[3]=_=>ue(n)?n.value=_:null),placeholder:"搜索图标...",icon:"i-lucide-search"},{trailing:b(()=>[i(n)?($(),F(m,{key:0,color:"neutral",variant:"link",size:"sm",icon:"i-lucide-circle-x",onClick:g[2]||(g[2]=_=>n.value="")})):I("",!0)]),_:1},8,["modelValue"]),V("div",Jt,[($(!0),R(Se,null,ct(i(d),_=>($(),R("button",{key:_,title:_,class:de(["flex items-center justify-center p-3 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800 hover:border-primary-500 transition-all cursor-pointer",{"bg-primary-50 dark:bg-primary-900/20 border-primary-500":i(u)===_}]),onClick:D=>r(_)},[c(h,{name:_,class:"w-6 h-6"},null,8,["name"])],10,Zt))),128))]),i(d).length===0?($(),R("div",Qt," 未找到匹配的图标 ")):I("",!0)])]),footer:b(()=>[V("div",Xt,[V("span",ei," 共 "+qe(i(d).length)+" 个图标 ",1),c(m,{label:"关闭",color:"neutral",variant:"outline",onClick:g[4]||(g[4]=_=>l.value=!1)})])]),_:1},8,["open"])])}}}),ii=Object.assign(ti,{__name:"IconPicker"}),ai={slots:{root:"relative inline-flex items-center",base:["w-full rounded-md border-0 placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],increment:"absolute flex items-center",decrement:"absolute flex items-center"},variants:{fieldGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},size:{xs:"px-2 py-1 text-xs gap-1",sm:"px-2.5 py-1.5 text-xs gap-1.5",md:"px-2.5 py-1.5 text-sm gap-1.5",lg:"px-3 py-2 text-sm gap-2",xl:"px-3 py-2 text-base gap-2"},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},disabled:{true:{increment:"opacity-75 cursor-not-allowed",decrement:"opacity-75 cursor-not-allowed"}},orientation:{horizontal:{base:"text-center",increment:"inset-y-0 end-0 pe-1",decrement:"inset-y-0 start-0 ps-1"},vertical:{increment:"top-0 end-0 pe-1 [&>button]:py-0 scale-80",decrement:"bottom-0 end-0 pe-1 [&>button]:py-0 scale-80"}},highlight:{true:""},increment:{false:""},decrement:{false:""}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{orientation:"horizontal",decrement:!1,class:"text-start"},{decrement:!0,size:"xs",class:"ps-7"},{decrement:!0,size:"sm",class:"ps-8"},{decrement:!0,size:"md",class:"ps-9"},{decrement:!0,size:"lg",class:"ps-10"},{decrement:!0,size:"xl",class:"ps-11"},{increment:!0,size:"xs",class:"pe-7"},{increment:!0,size:"sm",class:"pe-8"},{increment:!0,size:"md",class:"pe-9"},{increment:!0,size:"lg",class:"pe-10"},{increment:!0,size:"xl",class:"pe-11"}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},li=Object.assign({inheritAttrs:!1},{__name:"UInputNumber",props:{as:{type:null,required:!1},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},highlight:{type:Boolean,required:!1},orientation:{type:null,required:!1,default:"horizontal"},increment:{type:[Boolean,Object],required:!1,default:!0},incrementIcon:{type:null,required:!1},incrementDisabled:{type:Boolean,required:!1},decrement:{type:[Boolean,Object],required:!1,default:!0},decrementIcon:{type:null,required:!1},decrementDisabled:{type:Boolean,required:!1},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1},modelModifiers:{type:Object,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},modelValue:{type:[Number,null],required:!1},defaultValue:{type:Number,required:!1},min:{type:Number,required:!1},max:{type:Number,required:!1},step:{type:Number,required:!1},stepSnapping:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},required:{type:Boolean,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},formatOptions:{type:null,required:!1},disableWheelChange:{type:Boolean,required:!1},invertWheelChange:{type:Boolean,required:!1},readonly:{type:Boolean,required:!1}},emits:["update:modelValue","blur","change"],setup(s,{expose:e,emit:t}){const a=s,l=t,n=vt(a,"modelValue",l,{defaultValue:a.defaultValue}),{t:u}=Ye(),p=He(),d=Je(ht(a,"as","defaultValue","min","max","step","stepSnapping","formatOptions","disableWheelChange","invertWheelChange","readonly"),l),{emitFormBlur:r,emitFormFocus:y,emitFormChange:w,emitFormInput:g,id:h,color:m,size:o,name:k,highlight:_,disabled:D,ariaAttrs:q}=Ze(a),{orientation:S,size:W}=Qe(a),O=C(()=>W.value||o.value),z=C(()=>fe({extend:fe(ai),...p.ui?.inputNumber||{}})({color:m.value,variant:a.variant,size:O.value,highlight:_.value,orientation:a.orientation,fieldGroup:S.value,increment:a.orientation==="vertical"?!!a.increment||!!a.decrement:!!a.increment,decrement:a.orientation==="vertical"?!1:!!a.decrement})),L=C(()=>a.incrementIcon||(a.orientation==="horizontal"?p.ui.icons.plus:p.ui.icons.chevronUp)),Y=C(()=>a.decrementIcon||(a.orientation==="horizontal"?p.ui.icons.minus:p.ui.icons.chevronDown)),x=Ce("inputRef");function f(E){a.modelModifiers?.optional&&(E=E??void 0);const A=new Event("change",{target:{value:E}});l("change",A),w(),g()}function H(E){r(),l("blur",E)}function ae(){a.autofocus&&x.value?.$el?.focus()}return Fe(()=>{setTimeout(()=>{ae()},a.autofocusDelay)}),e({inputRef:pt(()=>x.value?.$el)}),(E,A)=>($(),F(i(Bt),U(i(d),{id:i(h),"model-value":i(n),"data-slot":"root",class:z.value.root({class:[a.ui?.root,a.class]}),name:i(k),disabled:i(D),"onUpdate:modelValue":f}),{default:b(()=>[c(i(Lt),U({...E.$attrs,...i(q)},{ref_key:"inputRef",ref:x,placeholder:s.placeholder,required:s.required,"data-slot":"base",class:z.value.base({class:a.ui?.base}),onBlur:H,onFocus:i(y)}),null,16,["placeholder","required","class","onFocus"]),s.increment?($(),R("div",{key:0,"data-slot":"increment",class:de(z.value.increment({class:a.ui?.increment}))},[c(i(Tt),{"as-child":"",disabled:i(D)||s.incrementDisabled},{default:b(()=>[Z(E.$slots,"increment",{},()=>[c(j,U({icon:L.value,color:i(m),size:s.size,variant:"link","aria-label":i(u)("inputNumber.increment")},typeof s.increment=="object"?s.increment:void 0),null,16,["icon","color","size","aria-label"])])]),_:3},8,["disabled"])],2)):I("",!0),s.decrement?($(),R("div",{key:1,"data-slot":"decrement",class:de(z.value.decrement({class:a.ui?.decrement}))},[c(i(Ut),{"as-child":"",disabled:i(D)||s.decrementDisabled},{default:b(()=>[Z(E.$slots,"decrement",{},()=>[c(j,U({icon:Y.value,color:i(m),size:s.size,variant:"link","aria-label":i(u)("inputNumber.decrement")},typeof s.decrement=="object"?s.decrement:void 0),null,16,["icon","color","size","aria-label"])])]),_:3},8,["disabled"])],2)):I("",!0)]),_:3},16,["id","model-value","class","name","disabled"]))}}),si={class:"p-6"},ri={class:"bg-(--ui-bg-elevated) rounded-xl p-5 space-y-5 border border-(--ui-border)"},oi={class:"flex items-center gap-2 mb-1"},ni={class:"grid grid-cols-2 gap-4"},mi={class:"w-[300px] max-h-[300px] overflow-y-auto"},ui={key:0,class:"bg-(--ui-bg-elevated) rounded-xl p-5 space-y-5 border border-(--ui-border)"},di={class:"flex items-center gap-2 mb-1"},ci={key:1,class:"bg-(--ui-bg-elevated) rounded-xl p-5 space-y-5 border border-(--ui-border)"},pi={class:"flex items-center gap-2 mb-1"},bi={class:"relative"},fi={key:2,class:"bg-(--ui-bg-elevated) rounded-xl p-5 space-y-5 border border-(--ui-border)"},yi={class:"flex items-center gap-2 mb-1"},gi={class:"grid grid-cols-2 gap-4"},vi={class:"flex items-center justify-between w-full"},hi={class:"text-sm text-(--ui-text-muted) flex items-center gap-2"},xi={class:"flex gap-3"},wi=T({__name:"Edit",props:{dialog:{type:Boolean,default:!1},currentForm:{default:()=>({})},menu:{default:()=>[]},pidOptions:{default:()=>[]}},emits:["update:dialog","refresh"],setup(s,{emit:e}){const t=s,a=e,l=C({get(){return t.dialog},set(m){a("update:dialog",m)}}),n=()=>{l.value=!1},u=Ce("formRef"),p=kt({ty:ge(),pid:ge()}),d=m=>{const o=[];return m.name||o.push({name:"name",message:"Required"}),(m.ty===0||m.ty===1)&&!m.router&&o.push({name:"router",message:"Required"}),(m.ty===1||m.ty===2)&&(!m.perms||!m.perms.length)&&o.push({name:"perms",message:"Required"}),o},r=Pe({loading:!1,form:{},tyOptions:[{label:"目录",value:0},{label:"菜单",value:1},{label:"权限",value:2}],permOptions:Xe.map(m=>({value:m,label:m})),isShowOptions:[{label:"显示",value:1},{label:"不显示",value:0}],popoverOpen:!1}),y=m=>{r.form.pid=m,r.popoverOpen=!1},w=et(),g={0:["id","ty","name","pid","router","icon","sort","is_show"],1:["id","ty","name","pid","router","icon","perms","sort","keepalive","is_show"],2:["id","ty","name","pid","perms"]};async function h(){r.loading=!0;const m=JSON.parse(JSON.stringify(r.form,g[r.form.ty]));m.perms=m.perms?.join(",");const{error:o}=await(m.id?wt:_t)(m);o||(w.add({title:"操作成功",color:"success"}),a("refresh")),r.loading=!1}return pe(()=>t.dialog,m=>{m&&(r.loading=!1,r.form=t.currentForm)}),(m,o)=>{const k=X,_=rt,D=ot,q=j,S=Ne,W=Kt,O=ut,z=ii,L=li,Y=xt,x=Ie;return $(),F(x,{open:i(l),"onUpdate:open":o[14]||(o[14]=f=>ue(l)?l.value=f:null),title:s.currentForm.id?"编辑菜单":"新增菜单",ui:{content:"sm:max-w-3xl",body:"p-0",footer:"justify-end bg-(--ui-bg-elevated)"}},{body:b(()=>[V("div",si,[c(Y,{ref_key:"formRef",ref:u,schema:i(p),state:i(r).form,validate:d,class:"space-y-6",onSubmit:h},{default:b(()=>[V("div",ri,[V("div",oi,[c(k,{name:"i-lucide-info",class:"w-5 h-5 text-(--ui-primary)"}),o[15]||(o[15]=V("h4",{class:"font-semibold text-(--ui-text-highlighted)"}," 基本信息 ",-1))]),V("div",ni,[c(D,{label:"类型",name:"ty",required:""},{default:b(()=>[c(_,{modelValue:i(r).form.ty,"onUpdate:modelValue":o[0]||(o[0]=f=>i(r).form.ty=f),items:i(r).tyOptions,placeholder:"请选择类型",class:"w-full",size:"lg"},{leading:b(()=>[c(k,{name:"i-lucide-layout-grid",class:"w-5 h-5 text-(--ui-text-muted)"})]),_:1},8,["modelValue","items"])]),_:1}),c(D,{label:"名称",name:"name",required:""},{default:b(()=>[c(S,{modelValue:i(r).form.name,"onUpdate:modelValue":o[2]||(o[2]=f=>i(r).form.name=f),modelModifiers:{trim:!0},placeholder:"请输入菜单名称",class:"w-full",size:"lg"},{leading:b(()=>[c(k,{name:"i-lucide-type",class:"w-5 h-5 text-(--ui-text-muted)"})]),trailing:b(()=>[i(r).form.name?($(),F(q,{key:0,color:"neutral",variant:"link",size:"sm",icon:"i-lucide-circle-x",onClick:o[1]||(o[1]=f=>i(r).form.name="")})):I("",!0)]),_:1},8,["modelValue"])]),_:1})]),c(D,{label:"上级节点",name:"pid",required:""},{default:b(()=>[c(O,{open:i(r).popoverOpen,"onUpdate:open":o[5]||(o[5]=f=>i(r).popoverOpen=f)},{content:b(()=>[V("div",mi,[c(W,{menu:s.menu,value:i(r).form.pid,onChange:y},null,8,["menu","value"])])]),default:b(()=>[V("div",{onClick:o[4]||(o[4]=f=>i(r).popoverOpen=!0)},[c(_,{modelValue:i(r).form.pid,"onUpdate:modelValue":o[3]||(o[3]=f=>i(r).form.pid=f),items:s.pidOptions,placeholder:"请选择上级节点",class:"w-full pointer-events-none",size:"lg"},{leading:b(()=>[c(k,{name:"i-lucide-git-branch",class:"w-5 h-5 text-(--ui-text-muted)"})]),_:1},8,["modelValue","items"])])]),_:1},8,["open"])]),_:1})]),i(r).form.ty!==2?($(),R("div",ui,[V("div",di,[c(k,{name:"i-lucide-route",class:"w-5 h-5 text-(--ui-success)"}),o[16]||(o[16]=V("h4",{class:"font-semibold text-(--ui-text-highlighted)"}," 路由配置 ",-1))]),c(D,{label:"节点路由",name:"router",required:""},{default:b(()=>[c(S,{modelValue:i(r).form.router,"onUpdate:modelValue":o[7]||(o[7]=f=>i(r).form.router=f),modelModifiers:{trim:!0},placeholder:"请输入路由路径，如：/system/menu",class:"w-full",size:"lg"},{leading:b(()=>[c(k,{name:"i-lucide-link",class:"w-5 h-5 text-(--ui-text-muted)"})]),trailing:b(()=>[i(r).form.router?($(),F(q,{key:0,color:"neutral",variant:"link",size:"sm",icon:"i-lucide-circle-x",onClick:o[6]||(o[6]=f=>i(r).form.router="")})):I("",!0)]),_:1},8,["modelValue"])]),_:1})])):I("",!0),i(r).form.ty!==0?($(),R("div",ci,[V("div",pi,[c(k,{name:"i-lucide-key",class:"w-5 h-5 text-(--ui-warning)"}),o[17]||(o[17]=V("h4",{class:"font-semibold text-(--ui-text-highlighted)"}," 权限配置 ",-1))]),c(D,{label:"权限标识",name:"perms",required:""},{default:b(()=>[V("div",bi,[c(_,{modelValue:i(r).form.perms,"onUpdate:modelValue":o[8]||(o[8]=f=>i(r).form.perms=f),multiple:"",items:i(r).permOptions,placeholder:"请选择权限标识",class:"w-full",size:"lg"},{leading:b(()=>[c(k,{name:"i-lucide-shield",class:"w-5 h-5 text-(--ui-text-muted)"})]),_:1},8,["modelValue","items"]),i(r).form.perms&&i(r).form.perms.length?($(),F(q,{key:0,color:"neutral",variant:"link",size:"sm",icon:"i-lucide-circle-x",class:"absolute top-1/2 right-3 -translate-y-1/2",onClick:o[9]||(o[9]=f=>i(r).form.perms=[])})):I("",!0)])]),_:1})])):I("",!0),i(r).form.ty!==2?($(),R("div",fi,[V("div",yi,[c(k,{name:"i-lucide-settings",class:"w-5 h-5 text-(--ui-info)"}),o[18]||(o[18]=V("h4",{class:"font-semibold text-(--ui-text-highlighted)"}," 显示设置 ",-1))]),c(D,{label:"菜单图标",name:"icon",description:"选择菜单图标"},{default:b(()=>[c(z,{modelValue:i(r).form.icon,"onUpdate:modelValue":o[10]||(o[10]=f=>i(r).form.icon=f)},null,8,["modelValue"])]),_:1}),V("div",gi,[c(D,{label:"排序",name:"sort"},{default:b(()=>[c(L,{modelValue:i(r).form.sort,"onUpdate:modelValue":o[11]||(o[11]=f=>i(r).form.sort=f),min:0,placeholder:"数字越小越靠前",class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),c(D,{label:"是否显示",name:"is_show"},{default:b(()=>[c(_,{modelValue:i(r).form.is_show,"onUpdate:modelValue":o[12]||(o[12]=f=>i(r).form.is_show=f),items:i(r).isShowOptions,placeholder:"请选择",class:"w-full",size:"lg"},{leading:b(()=>[c(k,{name:"i-lucide-eye",class:"w-5 h-5 text-(--ui-text-muted)"})]),_:1},8,["modelValue","items"])]),_:1})])])):I("",!0)]),_:1},8,["schema","state"])])]),footer:b(()=>[V("div",vi,[V("div",hi,[c(k,{name:"i-lucide-info",class:"w-4 h-4"}),V("span",null,qe(s.currentForm.id?"修改后将更新菜单配置":"确认后将创建新的菜单项"),1)]),V("div",xi,[c(q,{label:"取消",color:"neutral",variant:"outline",size:"lg",onClick:n},{leading:b(()=>[c(k,{name:"i-material-symbols-close"})]),_:1}),c(q,{loading:i(r).loading,label:"确认保存",variant:"solid",size:"lg",onClick:o[13]||(o[13]=f=>i(u)?.submit())},{leading:b(()=>[c(k,{name:"i-material-symbols-check"})]),_:1},8,["loading"])])])]),_:1},8,["open","title"])}}}),_i=Object.assign(wi,{__name:"SystemMenuEdit"}),ke={0:["目录","info","i-lucide-folder"],1:["菜单","success","i-lucide-file-text"],2:["权限","warning","i-lucide-key"]},$i=[{id:"expand",meta:{class:{th:"w-[140px]",td:"w-[140px]"}},cell:({row:s})=>s.original.children?N(j,{color:"neutral",variant:"ghost",icon:"i-lucide-chevron-down",square:!0,"aria-label":"Expand",style:`margin-left:${s.original.level*32}px`,ui:{leadingIcon:["transition-transform",s.getIsExpanded()?"duration-200 rotate-180":""]},onClick:()=>s.toggleExpanded()}):""},{accessorKey:"name",header:()=>N(j,{color:"neutral",variant:"ghost",label:"名称",class:"-mx-2.5 hover:bg-transparent focus:bg-transparent data-[state=open]:bg-transparent text-(--ui-text-highlighted) font-semibold"}),meta:{class:{th:"w-[200px]",td:"w-[200px]"}},cell:({row:s})=>{const e=s.original.level||0,t=s.original.ty,[,a,l]=ke[t]||["未知","neutral","i-lucide-circle"];return N("div",{class:"flex items-center gap-2",style:`padding-left: ${e*24}px`},[N(X,{name:l,class:`w-4 h-4 text-(--ui-${a})`}),N("span",{class:"font-medium text-(--ui-text-highlighted)"},s.original.name)])}},{accessorKey:"ty",header:"类型",meta:{class:{th:"w-[100px]",td:"w-[100px]"}},cell:({row:s})=>{const[e,t]=ke[s.original.ty]||["未知","neutral"];return N(ve,{variant:"subtle",color:t},()=>e)}},{accessorKey:"router",header:"节点路由",meta:{class:{th:"w-[200px]",td:"w-[200px]"}},cell:({row:s})=>{const e=s.original.router;return e?N("code",{class:"px-2 py-1 rounded bg-(--ui-bg-elevated) text-xs font-mono text-(--ui-text-muted)"},e):N("span",{class:"text-(--ui-text-muted)"},"-")}},{accessorKey:"icon",header:"图标",meta:{class:{th:"w-[80px]",td:"w-[80px]"}},cell:({row:s})=>s.original.icon?N("div",{class:"w-8 h-8 rounded bg-(--ui-bg-elevated) flex items-center justify-center"},[N(X,{name:s.original.icon,class:"w-4 h-4 text-(--ui-text-muted)"})]):N("span",{class:"text-(--ui-text-muted)"},"-")},{accessorKey:"perms",header:"权限标识",cell:({row:s})=>{const e=s.original.perms;return e?N("code",{class:"px-2 py-1 rounded bg-(--ui-bg-elevated) text-xs font-mono text-(--ui-text-muted)"},e):N("span",{class:"text-(--ui-text-muted)"},"-")}},{accessorKey:"is_show",header:"显示状态",meta:{class:{th:"w-[100px]",td:"w-[100px]"}},cell:({row:s})=>{const e=s.original.is_show===1;return N(ve,{variant:"subtle",color:e?"success":"neutral"},()=>e?"显示":"隐藏")}}],ua=T({name:"SystemMenu",__name:"menu",setup(s){const e=M(),t=j,a=Dt(),{hasPermission:l}=tt(),n=Pe({isDialog:!1,currentForm:{},menu:[],pidOptions:[]}),u=h=>h.sort((m,o)=>(m.sort?Number(m.sort):0)-(o.sort?Number(o.sort):0)).map(m=>(m.children&&u(m.children),m)),p=async()=>{const{data:h}=await $t();return h?(n.menu=[{value:0,label:"一级菜单",children:u(ye(Q(h.list).filter(m=>m.ty!==2),null))}],n.pidOptions=[{value:0,label:"一级菜单"},...Q(h.list).map(m=>({value:m.id,label:m.name}))],{error:null,data:{list:u(ye(Q(h.list),null))}}):{error:null,data:{list:[]}}},d=async h=>{if(n.isDialog=!0,h){const m=Q(h);m.pid=m.pid??0,m.perms=m.perms?m.perms.split(","):[],n.currentForm=m}else n.currentForm={ty:0,pid:0,sort:0,keepalive:1,is_show:1}},r=async()=>{n.isDialog=!1,e.value.reload()},y=async h=>{const{error:m}=await Vt({id:h.id});m||e.value.reload()};function w(h){return[{label:"编辑",icon:"material-symbols:edit-square-outline",disabled:!l("rbac-menu-edit"),onSelect(){d(h.original)}},{type:"separator"},{label:"删除",icon:"material-symbols:contract-delete-outline-rounded",color:"error",disabled:!l("rbac-menu-remove"),onSelect(){a.open({color:"error",title:"删除数据",description:"您确定要删除吗？",onPositiveClick(){y(h.original)}})}}]}const g=[...$i,{id:"actions",meta:{class:{th:"w-[100px]",td:"w-[100px]"}},cell:({row:h})=>N("div",{class:"text-right"},N(Ue,{content:{align:"end"},items:w(h)},()=>N(j,{icon:"i-lucide-ellipsis-vertical",color:"neutral",variant:"ghost",class:"ml-auto"})))}];return(h,m)=>{const o=it,k=at,_=_i,D=bt("permission");return $(),R(Se,null,[c(k,null,{actions:b(()=>[ft(($(),R("div",null,[c(i(t),{label:"新增",icon:"i-lucide-plus",color:"neutral",onClick:m[0]||(m[0]=q=>d(null))})])),[[D,"rbac-menu-add"]])]),default:b(()=>[c(o,{ref_key:"tableRef",ref:e,"data-request":p,columns:g,"default-page-size":100,"scroll-x":"min-w-[1200px]"},null,512)]),_:1}),c(_,{dialog:i(n).isDialog,"onUpdate:dialog":m[1]||(m[1]=q=>i(n).isDialog=q),"current-form":i(n).currentForm,menu:i(n).menu,"pid-options":i(n).pidOptions,onRefresh:r},null,8,["dialog","current-form","menu","pid-options"])],64)}}});export{ua as default};
