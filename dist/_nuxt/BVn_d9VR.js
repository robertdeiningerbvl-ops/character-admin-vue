import{n as k,_ as z,a as C}from"./DiI9-bkE.js";import{_ as T}from"./Bml5z8l2.js";import{_ as B}from"./DxT_AjaP.js";import{_ as D}from"./CuFgEFCp.js";import{f as S}from"./CE7u-7DH.js";import{h as j}from"./B33qAI9M.js";import{p as N,j as U,z as n,a1 as V,a2 as u,Q as e,a7 as a,a5 as c,a6 as l,u as o,A as r,W as L,ah as $,R as _,r as M,c as F}from"./Cp_GvCOL.js";import"./CM1DIlR0.js";import"./B3KMLFeu.js";import"./BlLzDdHJ.js";import"./DaMwIZ4f.js";import"./BnfZ4xmv.js";import"./CangPKqO.js";import"./C8Jf-TuN.js";const P={class:"mb-4 flex items-center justify-between"},R={class:"flex items-center gap-2"},W={key:0,class:"flex items-center justify-center py-20"},A={key:1,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3"},E={class:"relative h-32"},I=["src","alt"],Q={class:"absolute top-2 right-2"},q={key:0,class:"absolute top-2 left-2"},G={class:"p-3 space-y-2"},H=["title"],J={class:"flex items-center gap-3 text-xs text-(--ui-text-muted)"},K={class:"inline-flex items-center gap-1"},O={class:"inline-flex items-center gap-1"},X={class:"inline-flex items-center gap-1"},Y={class:"inline-flex items-center gap-1"},Z={class:"text-xs text-(--ui-text-muted)"},tt={key:2,class:"text-center py-20 text-(--ui-text-muted)"},et={key:3,class:"mt-4 flex justify-end"},xt=N({name:"MemberCollectList",__name:"[id]",setup(st){const x=k(),h=F(()=>x.params.id),g={0:["未审核","warning"],2:["正常","success"],4:["已删除","error"]},t=M({loading:!1,list:[],total:0,page:1,pageSize:12}),f=async()=>{t.loading=!0;try{const{data:i}=await j({uid:h.value,page:t.page,pagesize:t.pageSize});t.list=i?.list||[],t.total=i?.count||0}finally{t.loading=!1}},v=i=>{t.page=i,f()};return U(()=>f()),(i,d)=>{const y=z,p=T,m=C,b=B,w=D;return n(),V(w,null,{default:u(()=>[e("div",P,[e("div",R,[a(y,{icon:"i-lucide-arrow-left",color:"neutral",variant:"ghost",to:"/member/list"}),d[0]||(d[0]=e("h2",{class:"text-lg font-semibold"}," 用户收藏 ",-1)),a(p,{color:"neutral",variant:"subtle"},{default:u(()=>[c(" 共 "+l(o(t).total)+" 个 ",1)]),_:1})])]),o(t).loading?(n(),r("div",W,[a(m,{name:"i-lucide-loader",class:"w-8 h-8 animate-spin text-(--ui-text-muted)"})])):(n(),r("div",A,[(n(!0),r(L,null,$(o(t).list,s=>(n(),r("div",{key:s.id,class:"rounded-xl bg-(--ui-bg-elevated) border border-(--ui-border) overflow-hidden hover:border-(--ui-primary) transition-all"},[e("div",E,[e("img",{src:s.image,alt:s.name,class:"w-full h-full object-cover"},null,8,I),e("div",Q,[a(p,{color:g[s.state]?.[1]||"neutral",variant:"solid",size:"xs"},{default:u(()=>[c(l(g[s.state]?.[0]||"未知"),1)]),_:2},1032,["color"])]),s.nsfw===2?(n(),r("div",q,[a(p,{color:"error",variant:"solid",size:"xs"},{default:u(()=>[...d[1]||(d[1]=[c(" NSFW ",-1)])]),_:1})])):_("",!0)]),e("div",G,[e("div",{class:"font-medium truncate",title:s.name},l(s.name),9,H),e("div",J,[e("span",K,[a(m,{name:"i-lucide-zap",class:"w-3 h-3 text-yellow-500"}),c(" "+l(s.battery||0),1)]),e("span",O,[a(m,{name:"i-lucide-bookmark",class:"w-3 h-3 text-blue-500"}),c(" "+l(s.collect_count||0),1)]),e("span",X,[a(m,{name:"i-lucide-message-circle",class:"w-3 h-3 text-green-500"}),c(" "+l(s.comment_count||0),1)]),e("span",Y,[a(m,{name:"i-lucide-play",class:"w-3 h-3 text-purple-500"}),c(" "+l(s.play_count||0),1)])]),e("div",Z,l(("formatToDateTime"in i?i.formatToDateTime:o(S))(s.created_at)),1)])]))),128))])),!o(t).loading&&o(t).list.length===0?(n(),r("div",tt,[a(m,{name:"i-lucide-bookmark-x",class:"w-12 h-12 mx-auto mb-2 opacity-50"}),d[2]||(d[2]=e("p",null,"暂无收藏",-1))])):_("",!0),o(t).total>o(t).pageSize?(n(),r("div",et,[a(b,{"model-value":o(t).page,total:o(t).total,"page-count":o(t).pageSize,"onUpdate:modelValue":v},null,8,["model-value","total","page-count"])])):_("",!0)]),_:1})}}});export{xt as default};
