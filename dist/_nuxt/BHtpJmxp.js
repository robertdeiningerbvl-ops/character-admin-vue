import{a9 as m,aD as w,F as k,u as A,P as C,t as d}from"./DiI9-bkE.js";import{q as p,h as q,j as K,r as M,c as b,z as T,a1 as E,a2 as L,B as S,a5 as z,a6 as G,u as h,ae as R}from"./Cp_GvCOL.js";import{c as j}from"./BlLzDdHJ.js";function U(e,t){const r=m(!1,300);w(()=>{r.value=!1});const n=q(null),s=k();function a(){n.value=null,r.value=!1}function o(u,c){const l=u.currentTarget,i={x:u.clientX,y:u.clientY},g=B(i,l.getBoundingClientRect()),v=D(i,g),x=H(c.getBoundingClientRect()),y=F([...v,...x]);n.value=y,r.value=!0}return p(u=>{if(e.value&&t.value){const c=i=>o(i,t.value),l=i=>o(i,e.value);e.value.addEventListener("pointerleave",c),t.value.addEventListener("pointerleave",l),u(()=>{e.value?.removeEventListener("pointerleave",c),t.value?.removeEventListener("pointerleave",l)})}}),p(u=>{if(n.value){const c=l=>{if(!n.value||!(l.target instanceof Element))return;const i=l.target,g={x:l.clientX,y:l.clientY},v=e.value?.contains(i)||t.value?.contains(i),x=!_(g,n.value),y=!!i.closest("[data-grace-area-trigger]");v?a():(x||y)&&(a(),s.trigger())};e.value?.ownerDocument.addEventListener("pointermove",c),u(()=>e.value?.ownerDocument.removeEventListener("pointermove",c))}}),{isPointerInTransit:r,onPointerExit:s.on}}function B(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function D(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function H(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function _(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const u=t[a].x,c=t[a].y,l=t[o].x,i=t[o].y;c>n!=i>n&&r<(l-u)*(n-c)/(i-c)+u&&(s=!s)}return s}function F(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),O(t)}function O(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}const f={meta:"",ctrl:"",alt:"",win:"⊞",command:"⌘",shift:"⇧",control:"⌃",option:"⌥",enter:"↵",delete:"⌦",backspace:"⌫",escape:"Esc",tab:"⇥",capslock:"⇪",arrowup:"↑",arrowright:"→",arrowdown:"↓",arrowleft:"←",pageup:"⇞",pagedown:"⇟",home:"↖",end:"↘"},P=()=>{const e=b(()=>navigator&&navigator.userAgent&&navigator.userAgent.match(/Macintosh;/)),t=M({meta:" ",alt:" ",ctrl:" "});K(()=>{t.meta=e.value?f.command:"Ctrl",t.ctrl=e.value?f.control:"Ctrl",t.alt=e.value?f.option:"Alt"});function r(n){if(n)return["meta","alt","ctrl"].includes(n)?t[n]:f[n]||n}return{macOS:e,getKbdKey:r}},V=j(P),I={base:"inline-flex items-center justify-center px-1 rounded-sm font-medium font-sans uppercase",variants:{color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},variant:{solid:"",outline:"",soft:"",subtle:""},size:{sm:"h-4 min-w-[16px] text-[10px]",md:"h-5 min-w-[20px] text-[11px]",lg:"h-6 min-w-[24px] text-[12px]"}},compoundVariants:[{color:"primary",variant:"solid",class:"text-inverted bg-primary"},{color:"secondary",variant:"solid",class:"text-inverted bg-secondary"},{color:"success",variant:"solid",class:"text-inverted bg-success"},{color:"info",variant:"solid",class:"text-inverted bg-info"},{color:"warning",variant:"solid",class:"text-inverted bg-warning"},{color:"error",variant:"solid",class:"text-inverted bg-error"},{color:"primary",variant:"outline",class:"ring ring-inset ring-primary/50 text-primary"},{color:"secondary",variant:"outline",class:"ring ring-inset ring-secondary/50 text-secondary"},{color:"success",variant:"outline",class:"ring ring-inset ring-success/50 text-success"},{color:"info",variant:"outline",class:"ring ring-inset ring-info/50 text-info"},{color:"warning",variant:"outline",class:"ring ring-inset ring-warning/50 text-warning"},{color:"error",variant:"outline",class:"ring ring-inset ring-error/50 text-error"},{color:"primary",variant:"soft",class:"text-primary bg-primary/10"},{color:"secondary",variant:"soft",class:"text-secondary bg-secondary/10"},{color:"success",variant:"soft",class:"text-success bg-success/10"},{color:"info",variant:"soft",class:"text-info bg-info/10"},{color:"warning",variant:"soft",class:"text-warning bg-warning/10"},{color:"error",variant:"soft",class:"text-error bg-error/10"},{color:"primary",variant:"subtle",class:"text-primary ring ring-inset ring-primary/25 bg-primary/10"},{color:"secondary",variant:"subtle",class:"text-secondary ring ring-inset ring-secondary/25 bg-secondary/10"},{color:"success",variant:"subtle",class:"text-success ring ring-inset ring-success/25 bg-success/10"},{color:"info",variant:"subtle",class:"text-info ring ring-inset ring-info/25 bg-info/10"},{color:"warning",variant:"subtle",class:"text-warning ring ring-inset ring-warning/25 bg-warning/10"},{color:"error",variant:"subtle",class:"text-error ring ring-inset ring-error/25 bg-error/10"},{color:"neutral",variant:"solid",class:"text-inverted bg-inverted"},{color:"neutral",variant:"outline",class:"ring ring-inset ring-accented text-default bg-default"},{color:"neutral",variant:"soft",class:"text-default bg-elevated"},{color:"neutral",variant:"subtle",class:"ring ring-inset ring-accented text-default bg-elevated"}],defaultVariants:{variant:"outline",color:"neutral",size:"md"}},$={__name:"UKbd",props:{as:{type:null,required:!1,default:"kbd"},value:{type:null,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,{getKbdKey:r}=V(),n=A(),s=b(()=>d({extend:d(I),...n.ui?.kbd||{}}));return(a,o)=>(T(),E(h(C),{as:e.as,class:R(s.value({class:t.class,color:t.color,variant:t.variant,size:t.size}))},{default:L(()=>[S(a.$slots,"default",{},()=>[z(G(h(r)(e.value)),1)])]),_:3},8,["as","class"]))}};export{$ as _,U as u};
