import{_ as b}from"./1OJ4jHSB.js";import{_ as x}from"./DiI9-bkE.js";import{_ as y}from"./Odvr87Pg.js";import{_ as D}from"./CuFgEFCp.js";import{b as h,_ as v}from"./DnFUp3yK.js";import{k as F,l as k}from"./adOTzFDE.js";import{u as C}from"./BCMcqMGM.js";import{c as w}from"./B3KMLFeu.js";import{p as R,z as E,A as q,a7 as a,a2 as $,u as r,W as B,h as L,r as M,E as n}from"./Cp_GvCOL.js";import"./D7PB4JkZ.js";import"./C-fFc4Sm.js";import"./DnWsfCtc.js";import"./C6Y-ieo6.js";import"./De6cJ90F.js";import"./BrwH2_O0.js";import"./7ga_NNx6.js";import"./BHtpJmxp.js";import"./BlLzDdHJ.js";import"./CM1DIlR0.js";import"./oJBVUttf.js";import"./DkYr1hfb.js";import"./DZaB2s8a.js";import"./K6pfE6CB.js";import"./B9BvCEkO.js";import"./DxT_AjaP.js";import"./DaMwIZ4f.js";import"./BnfZ4xmv.js";import"./CangPKqO.js";import"./C8Jf-TuN.js";import"./BdKneTYw.js";import"./DVCf4JVd.js";import"./_BOBmhmt.js";import"./9B_i7pfW.js";import"./8gEztUrL.js";import"./CgOwER5m.js";import"./Bml5z8l2.js";const xo=R({name:"MemberFeedback",__name:"feedback",setup(S){const i=L(),m=C(),t=M({isDialog:!1,currentForm:{}}),s=async o=>{t.isDialog=!0,t.currentForm=w(o)},l=async()=>{i.value.reload(),t.isDialog=!1},c=async o=>{const{error:e}=await k({id:o.id});e||i.value.reload()};function p(o){return[{label:"回复",icon:"material-symbols:edit-square-outline",onSelect(){s(o.original)}},{type:"separator"},{label:"删除",icon:"material-symbols:contract-delete-outline-rounded",color:"error",onSelect(){m.open({color:"error",title:"删除反馈",description:"您确定要删除这条反馈吗？",onPositiveClick(){c(o.original)}})}}]}const u=[...h,{id:"actions",meta:{class:{th:"w-[80px]",td:"w-[80px]"}},cell:({row:o})=>n("div",{class:"text-right"},n(b,{items:p(o)},{default:()=>n(x,{color:"neutral",variant:"ghost",icon:"lucide:more-vertical"})}))}];return(o,e)=>{const d=y,_=D,f=v;return E(),q(B,null,[a(_,null,{default:$(()=>[a(d,{ref_key:"tableRef",ref:i,"data-request":r(F),columns:u,"scroll-x":"min-w-[800px]"},null,8,["data-request"])]),_:1}),a(f,{dialog:r(t).isDialog,"onUpdate:dialog":e[0]||(e[0]=g=>r(t).isDialog=g),"current-form":r(t).currentForm,onRefresh:l},null,8,["dialog","current-form"])],64)}}});export{xo as default};
