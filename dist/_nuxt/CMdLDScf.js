import{u as g,E as f,i as k}from"./BqeYyIoT.js";import{p as x,w as y,u as e,z as s,A as r,Q as n,W as u,ah as b,ae as a,a6 as p,a7 as C,a3 as h,R as _}from"./Cp_GvCOL.js";import{_ as A}from"./DlAUqK2U.js";const H={key:0,class:"rich-text-editor rounded-lg border border-(--ui-border) overflow-hidden"},B={class:"toolbar border-b border-(--ui-border) bg-(--ui-bg-elevated) px-3 py-2 flex gap-1 flex-wrap"},L=["onClick"],V=["onClick"],E=x({__name:"RichTextEditor",props:{modelValue:{default:""},placeholder:{default:"请输入内容"},minHeight:{default:"200px"}},emits:["update:modelValue"],setup(c,{emit:v}){const d=c,m=v,t=g({extensions:[k],content:d.modelValue,onUpdate({editor:l}){m("update:modelValue",l.getHTML())}});return y(()=>d.modelValue,l=>{t.value&&l!==t.value.getHTML()&&t.value.commands.setContent(l||"",{parseOptions:{},emitUpdate:!1})}),(l,o)=>e(t)?(s(),r("div",H,[n("div",B,[(s(!0),r(u,null,b([{action:()=>e(t).chain().focus().toggleBold().run(),active:e(t).isActive("bold"),label:"B",cls:"font-bold"},{action:()=>e(t).chain().focus().toggleItalic().run(),active:e(t).isActive("italic"),label:"I",cls:"italic"},{action:()=>e(t).chain().focus().toggleStrike().run(),active:e(t).isActive("strike"),label:"S",cls:"line-through"}],i=>(s(),r("button",{key:i.label,type:"button",class:a(["toolbar-btn",{active:i.active}]),onClick:i.action},[n("span",{class:a(i.cls)},p(i.label),3)],10,L))),128)),o[4]||(o[4]=n("div",{class:"toolbar-divider"},null,-1)),(s(),r(u,null,b([1,2,3],i=>n("button",{key:i,type:"button",class:a(["toolbar-btn",{active:e(t).isActive("heading",{level:i})}]),onClick:$=>e(t).chain().focus().toggleHeading({level:i}).run()}," H"+p(i),11,V)),64)),o[5]||(o[5]=n("div",{class:"toolbar-divider"},null,-1)),n("button",{type:"button",class:a(["toolbar-btn",{active:e(t).isActive("bulletList")}]),onClick:o[0]||(o[0]=i=>e(t).chain().focus().toggleBulletList().run())}," • 列表 ",2),n("button",{type:"button",class:a(["toolbar-btn",{active:e(t).isActive("orderedList")}]),onClick:o[1]||(o[1]=i=>e(t).chain().focus().toggleOrderedList().run())}," 1. 列表 ",2),n("button",{type:"button",class:a(["toolbar-btn",{active:e(t).isActive("blockquote")}]),onClick:o[2]||(o[2]=i=>e(t).chain().focus().toggleBlockquote().run())}," 引用 ",2),o[6]||(o[6]=n("div",{class:"toolbar-divider"},null,-1)),n("button",{type:"button",class:"toolbar-btn",onClick:o[3]||(o[3]=i=>e(t).chain().focus().setHorizontalRule().run())}," 分割线 ")]),n("div",{class:"editor-content p-4",style:h({minHeight:c.minHeight})},[C(e(f),{editor:e(t)},null,8,["editor"])],4)])):_("",!0)}}),T=Object.assign(A(E,[["__scopeId","data-v-de8cc2a8"]]),{__name:"RichTextEditor"});export{T as _};
